if not game:IsLoaded() then game["Loaded"]:Wait() end

local players = game:GetService("Players") -- çŽ©å®¶æœåŠ¡
local localplayer = players["LocalPlayer"] -- æœ¬åœ°çŽ©å®¶
local marketplaceservice = game:GetService("MarketplaceService") -- å•†åŸŽæœåŠ¡
local httpservice = game:GetService("HttpService") -- HTTPæœåŠ¡
local tweenService = game:GetService("TweenService") -- ç”¨äºŽåŠ¨ç”»ï¼ˆå›žå¼¹/ç¼©å°æ•ˆæžœï¼‰
local userInputService = game:GetService("UserInputService") -- è¾“å…¥æœåŠ¡ï¼ˆæ£€æµ‹ç§»åŠ¨ï¼‰
local runService = game:GetService("RunService") -- æ–°å¢žï¼šç”¨äºŽç§»åŠ¨æ£€æµ‹ä¸Žæ‹–æ‹½ä¼˜åŒ–

-- å…¨å±€å˜é‡ï¼ˆæ–°å¢žæ‹–æ‹½ç›¸å…³å…¨å±€å˜é‡ï¼Œç¡®ä¿çŠ¶æ€åŒæ­¥ï¼‰
local isDragging = false -- æ˜¯å¦æ­£åœ¨æ‹–æ‹½ï¼ˆå…¨å±€çŠ¶æ€ï¼‰
local dragStartPos -- æ‹–æ‹½èµ·å§‹ä½ç½®ï¼ˆé¼ æ ‡/è§¦æ‘¸ä½ç½®ï¼‰
local uiStartPos -- UIèµ·å§‹ä½ç½®ï¼ˆä¸»æ¡†æž¶/å›¾æ ‡ä½ç½®ï¼‰
local oldButtons = {} -- å­˜å‚¨æ‰€æœ‰åŠ¨ä½œæŒ‰é’®ï¼ˆç”¨äºŽæœç´¢è¿‡æ»¤ï¼‰
local activeAnimations = {} -- å­˜å‚¨æ­£åœ¨æ’­æ”¾çš„åŠ¨ç”»è½¨é“
local walkTrack = nil -- å­˜å‚¨èµ°è·¯åŠ¨ç”»è½¨é“ï¼ˆå…¨å±€å¯è®¿é—®ï¼‰
local currentStaticTrack = nil -- å­˜å‚¨å½“å‰æ’­æ”¾çš„é™æ€åŠ¨ä½œè½¨é“
local movementConnection = nil -- å­˜å‚¨ç§»åŠ¨æ£€æµ‹è¿žæŽ¥ï¼ˆç”¨äºŽå…³é—­æ—¶æ–­å¼€ï¼‰
local popupWindows = {} -- å­˜å‚¨å¼¹å‡ºçª—å£ï¼ˆå…¨å±€å˜é‡ï¼‰
-- å¾…æœºåŠ¨ç”»ç³»ç»Ÿå˜é‡
local idleTrack = nil -- å­˜å‚¨å¾…æœºåŠ¨ç”»è½¨é“
local idleTimer = 0 -- å¾…æœºè®¡æ—¶å™¨
local lastMovementTime = 0 -- ä¸Šæ¬¡ç§»åŠ¨æ—¶é—´
local isIdleActive = false -- æ˜¯å¦æ­£åœ¨æ’­æ”¾å¾…æœºåŠ¨ç”»
-- è·³è·ƒåŠ¨ç”»ç³»ç»Ÿå˜é‡
local jumpTrack = nil -- å­˜å‚¨è·³è·ƒåŠ¨ç”»è½¨é“
local isJumpActive = false -- æ˜¯å¦æ­£åœ¨æ’­æ”¾è·³è·ƒåŠ¨ç”»
local jumpConnection = nil -- è·³è·ƒæ£€æµ‹è¿žæŽ¥
-- ä½ç½®ä¿å­˜å˜é‡
local mainFramePosition = UDim2.new(0.35, 0, 0.3, 0) -- ä¸»æ¡†æž¶ä½ç½®
local minimizeIconPosition = UDim2.new(0.25, 30, 0.8, 0) -- æœ€å°åŒ–å›¾æ ‡ä½ç½®ï¼ˆå‘ä¸‹ç§»åŠ¨ï¼‰

-- ç‚¹å‡»éŸ³æ•ˆå‡½æ•°
local function clickSound()
	local sound = Instance.new("Sound") 
	sound["SoundId"] = "rbxassetid://87152549167464" -- éŸ³æ•ˆID
	sound["Parent"] = game["Workspace"] -- çˆ¶çº§è®¾ä¸ºå·¥ä½œåŒº
	sound["Volume"] = 1.2 -- éŸ³é‡
	sound["TimePosition"] = 0.1 -- æ’­æ”¾èµ·å§‹ä½ç½®
	sound:Play() -- æ’­æ”¾éŸ³æ•ˆ
end

-- åˆ›å»ºä¸»ç•Œé¢UI
local gui = Instance.new("ScreenGui")
gui["Name"] = "AnimationPlayer" -- ç•Œé¢åç§°ï¼šåŠ¨ç”»æ’­æ”¾å™¨
gui["DisplayOrder"] = 999999 -- è®¾ç½®UIæ˜¾ç¤ºåœ¨æœ€ä¸Šå±‚ï¼Œè¦†ç›–æ‰€æœ‰å…¶ä»–UI
-- åŒºåˆ†å·¥ä½œå®¤ä¸Žæ¸¸æˆçŽ¯å¢ƒï¼Œè®¾ç½®UIçˆ¶çº§
if game:GetService("RunService"):IsStudio() then 
    gui["Parent"] = localplayer:WaitForChild("PlayerGui") -- å·¥ä½œå®¤ä¸­ï¼Œçˆ¶çº§ä¸ºçŽ©å®¶UI
else 
    gui["Parent"] = gethui and gethui() or game:GetService("CoreGui") -- æ¸¸æˆä¸­ï¼Œçˆ¶çº§ä¸ºæ ¸å¿ƒUI
end
gui["ResetOnSpawn"] = false -- é‡ç”Ÿæ—¶ä¸é‡ç½®UI

-- UIå®šä½å‡½æ•°ï¼ˆè®©UIå±…ä¸­æ˜¾ç¤ºï¼‰
local function setUIPosition(ui, width, height)
	local screenWidth, screenHeight = workspace["CurrentCamera"]["ViewportSize"]["X"], workspace["CurrentCamera"]["ViewportSize"]["Y"]
	local centerX, centerY = (screenWidth - width) / 2, (screenHeight - height) / 2 - 56
	ui["Position"] = UDim2.new(0, centerX, 0, centerY) -- è®¾ç½®UIä½ç½®
end

-- 1. ä¸»æ¡†æž¶ï¼šæœ€å¤§åŒ–320x240ï¼Œæœ€å°åŒ–30x30ï¼ˆé€‚é…å›¾æ ‡å¤§å°ï¼‰
local mainFrame = Instance.new("Frame")
mainFrame["Size"] = UDim2.new(0, 320, 0, 240) -- æœ€å¤§åŒ–å°ºå¯¸
mainFrame["Position"] = UDim2.new(0.35, 0, 0.3, 0) -- åˆå§‹ä½ç½®
setUIPosition(mainFrame, 320, 240) -- è°ƒç”¨å®šä½å‡½æ•°ï¼Œè®©æ¡†æž¶å±…ä¸­
mainFrame["BackgroundColor3"] = Color3.fromRGB(0, 0, 0) -- æ”¹ä¸ºé»‘è‰²èƒŒæ™¯
mainFrame["BorderSizePixel"] = 0 -- æ— è¾¹æ¡†
mainFrame["BackgroundTransparency"] = 0.8 -- é€æ˜Žåº¦ï¼š40%å¯è§ï¼Œæ›´é€æ˜Ž
mainFrame["Parent"] = gui -- çˆ¶çº§è®¾ä¸ºä¸»ç•Œé¢
-- ä¸»æ¡†æž¶åœ†è§’ï¼ˆæœ€å°åŒ–æ—¶æ˜¾ç¤ºä¸ºåœ†å½¢ï¼‰
local mainFrameCorner = Instance.new("UICorner")
mainFrameCorner.CornerRadius = UDim.new(0, 12) -- æœ€å¤§åŒ–åœ†è§’12pxï¼Œæœ€å°åŒ–è‡ªåŠ¨é€‚é…åœ†å½¢
mainFrameCorner.Parent = mainFrame

-- æ‹–æ‹½ç›¸å…³å‡½æ•°ä¼šåœ¨åŽé¢ç»Ÿä¸€å®šä¹‰

-- æ›´æ–°æ‹–æ‹½ä½ç½®çš„é€šç”¨å‡½æ•°ï¼ˆæ”¯æŒä¸¤ä¸ªç‹¬ç«‹UIå…ƒç´ ï¼‰
local function updateDragPosition(input)
	if not isDragging then return end -- éžæ‹–æ‹½çŠ¶æ€ç›´æŽ¥è¿”å›ž
	local deltaPos = input["Position"] - dragStartPos -- ä½ç½®å˜åŒ–é‡
	local newPosition = UDim2.new(
		uiStartPos["X"]["Scale"], uiStartPos["X"]["Offset"] + deltaPos["X"],
		uiStartPos["Y"]["Scale"], uiStartPos["Y"]["Offset"] + deltaPos["Y"]
	)
	
	-- æ ¹æ®å½“å‰çŠ¶æ€æ›´æ–°å¯¹åº”çš„UIå…ƒç´ ä½ç½®
	if isMinimized then
		minimizeIcon["Position"] = newPosition
	else
		mainFrame["Position"] = newPosition
	end
end

-- ç›‘å¬ä¸»æ¡†æž¶è¾“å…¥å¼€å§‹ï¼ˆæœ€å¤§åŒ–æ—¶æ‹–æ‹½ä¸»æ¡†æž¶ï¼‰
mainFrame["InputBegan"]:Connect(function(input)
	if (input["UserInputType"] == Enum.UserInputType.MouseButton1 or input["UserInputType"] == Enum.UserInputType.Touch) then 
		isDragging = true 
		dragStartPos = input["Position"] 
		uiStartPos = mainFrame["Position"] 
		-- ç›‘å¬è¾“å…¥ç»“æŸï¼Œé‡ç½®æ‹–æ‹½çŠ¶æ€å¹¶ä¿å­˜ä½ç½®
		input["Changed"]:Connect(function()
			if input["UserInputState"] == Enum.UserInputState.End then
				isDragging = false 
				-- æ‹–æ‹½ç»“æŸæ—¶ï¼Œä¿å­˜ä¸»æ¡†æž¶çš„å½“å‰ä½ç½®
				mainFramePosition = mainFrame["Position"]
			end
		end)
	end
end)

-- å»¶è¿Ÿè¿žæŽ¥è¾“å…¥å˜åŒ–äº‹ä»¶ï¼Œç¡®ä¿æ‰€æœ‰å‡½æ•°éƒ½å·²å®šä¹‰
local function connectInputEvents()
	-- ç›‘å¬è¾“å…¥å˜åŒ–ï¼ˆå¤„ç†æ‰€æœ‰æ‹–æ‹½ç§»åŠ¨ï¼ŒåŒ…æ‹¬æœ€å¤§åŒ–/æœ€å°åŒ–çŠ¶æ€ï¼‰
	userInputService["InputChanged"]:Connect(function(input)
		-- å¤„ç†æ‹–æ‹½
		if (input["UserInputType"] == Enum.UserInputType.MouseMovement or input["UserInputType"] == Enum.UserInputType.Touch) then
			updateDragPosition(input)
		end
		-- å¤„ç†é”®ç›˜ç§»åŠ¨æ£€æµ‹
		if input.UserInputType == Enum.UserInputType.Keyboard then
			checkMovementState()
		end
	end)
	
	-- æ·»åŠ ç‚¹å‡»ç©ºç™½åŒºåŸŸæœ€å°åŒ–åŠŸèƒ½
	userInputService.InputBegan:Connect(function(input, gameProcessed)
		if gameProcessed then return end
		
		-- æ£€æŸ¥æ˜¯å¦æ˜¯é¼ æ ‡å·¦é”®ç‚¹å‡»
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			-- èŽ·å–é¼ æ ‡ä½ç½®
			local mousePos = input.Position
			local camera = workspace.CurrentCamera
			local screenSize = camera.ViewportSize
			
			-- è½¬æ¢ä¸ºå±å¹•åæ ‡
			local screenX = mousePos.X / screenSize.X
			local screenY = mousePos.Y / screenSize.Y
			
			-- æ£€æŸ¥æ˜¯å¦ç‚¹å‡»åœ¨ä¸»UIå¤–éƒ¨
			local clickedOnUI = false
			
			-- æ£€æŸ¥ä¸»æ¡†æž¶
			if mainFrame.Visible then
				local framePos = mainFrame.AbsolutePosition
				local frameSize = mainFrame.AbsoluteSize
				local frameX1 = framePos.X / screenSize.X
				local frameY1 = framePos.Y / screenSize.Y
				local frameX2 = (framePos.X + frameSize.X) / screenSize.X
				local frameY2 = (framePos.Y + frameSize.Y) / screenSize.Y
				
				if screenX >= frameX1 and screenX <= frameX2 and screenY >= frameY1 and screenY <= frameY2 then
					clickedOnUI = true
				end
			end
			
			-- æ£€æŸ¥å¼¹çª—
			for windowId, window in pairs(popupWindows) do
				if window and window.Parent and window.Visible then
					local windowPos = window.AbsolutePosition
					local windowSize = window.AbsoluteSize
					local windowX1 = windowPos.X / screenSize.X
					local windowY1 = windowPos.Y / screenSize.Y
					local windowX2 = (windowPos.X + windowSize.X) / screenSize.X
					local windowY2 = (windowPos.Y + windowSize.Y) / screenSize.Y
					
					if screenX >= windowX1 and screenX <= windowX2 and screenY >= windowY1 and screenY <= windowY2 then
						clickedOnUI = true
						break
					end
				end
			end
			
			-- æ£€æŸ¥æœ€å°åŒ–æŒ‰é’®
			if newMinimizeIcon.Visible then
				local iconPos = newMinimizeIcon.AbsolutePosition
				local iconSize = newMinimizeIcon.AbsoluteSize
				local iconX1 = iconPos.X / screenSize.X
				local iconY1 = iconPos.Y / screenSize.Y
				local iconX2 = (iconPos.X + iconSize.X) / screenSize.X
				local iconY2 = (iconPos.Y + iconSize.Y) / screenSize.Y
				
				if screenX >= iconX1 and screenX <= iconX2 and screenY >= iconY1 and screenY <= iconY2 then
					clickedOnUI = true
				end
			end
			
			-- å¦‚æžœç‚¹å‡»åœ¨UIå¤–éƒ¨ï¼Œè§¦å‘æœ€å°åŒ–
			if not clickedOnUI and newMinimizeIcon.Text == "å…³é—­" then
				toggleNewMinimizeUI()
			end
		end
	end)
end

-- é¡¶éƒ¨æ ï¼šä»…æœ€å¤§åŒ–æ˜¾ç¤ºï¼Œæœ€å°åŒ–éšè—
local topBar = Instance.new("Frame")
topBar["Size"] = UDim2.new(1, 0, 0, 28) 
topBar["BackgroundColor3"] = Color3.fromRGB(0, 0, 0) -- æ”¹ä¸ºé»‘è‰²èƒŒæ™¯ï¼Œä¸Žä¸»UIä¸€è‡´
topBar["BorderSizePixel"] = 0 -- æ— è¾¹æ¡†
topBar["BackgroundTransparency"] = 0.8 -- é€æ˜Žåº¦ï¼šä¸Žä¸»UIä¸€è‡´
topBar["Parent"] = mainFrame -- çˆ¶çº§è®¾ä¸ºä¸»æ¡†æž¶
-- é¡¶éƒ¨æ åœ†è§’
local topBarCorner = Instance.new("UICorner")
topBarCorner.CornerRadius = UDim.new(0, 12) -- åœ†è§’å¤§å°ï¼š12åƒç´ 
topBarCorner.Parent = topBar

-- æ–°å¢žï¼šä¸‰ä¸ªäº¤äº’æŒ‰é’®çš„ä¸»é¢˜è‰²ï¼ˆæ¢å¤ä¸ºä¸åŒé¢œè‰²ï¼‰
local INTERACTIVE_COLORS = {
	button1 = Color3.fromRGB(255, 100, 100), -- çº¢è‰²ç³»
	button2 = Color3.fromRGB(100, 255, 100), -- ç»¿è‰²ç³»
	button3 = Color3.fromRGB(100, 100, 255)  -- è“è‰²ç³»
}

-- ä¸»é¢˜è‰²å®šä¹‰ï¼ˆå¤©ç©ºè“ç³»ï¼Œç¡®ä¿æ‰€æœ‰æŒ‰é’®é£Žæ ¼ç»Ÿä¸€ï¼‰
local THEME_COLORS = {
	stop = Color3.fromRGB(70, 130, 180), -- æ·±å¤©ç©ºè“ï¼ˆåœæ­¢æŒ‰é’®ï¼‰
	minimize = Color3.fromRGB(170, 119, 207), -- ä¸­å¤©ç©ºè“ï¼ˆæœ€å°åŒ–æŒ‰é’®ï¼‰
	close = Color3.fromRGB(135, 206, 235) -- æµ…å¤©ç©ºè“ï¼ˆå…³é—­æŒ‰é’®ï¼‰
}

-- é€šç”¨æŒ‰é’®åˆ›å»ºå‡½æ•°ï¼ˆæ”¯æŒä¸»é¢˜è‰²ï¼Œé€‚é…ä¸‰ä¸ªåŠŸèƒ½æŒ‰é’®ï¼‰
local function createButton(name, position, size, colorKey, text)
	local button = Instance.new("TextButton")
	button["Name"] = name -- æŒ‰é’®åç§°
	button["Size"] = size -- æŒ‰é’®å°ºå¯¸
	button["Position"] = position -- æŒ‰é’®ä½ç½®
	-- æ”¯æŒä¸¤ç§é¢œè‰²ä¸»é¢˜ï¼šTHEME_COLORS å’Œ INTERACTIVE_COLORS
	local color = THEME_COLORS[colorKey] or INTERACTIVE_COLORS[colorKey] or Color3.fromRGB(135, 206, 235)
	button["BackgroundColor3"] = color -- ä½¿ç”¨ä¸»é¢˜è‰²
	button["Text"] = text -- æŒ‰é’®æ–‡æœ¬
	button["TextColor3"] = Color3.fromRGB(255, 255, 255) -- æ–‡æœ¬è‰²ï¼šç™½è‰²ï¼ˆæ›´æ˜Žäº®ï¼‰
	button["TextSize"] = 14 -- æŒ‰é’®å­—ä½“å¤§å°
	button["Font"] = Enum.Font.RobotoMono -- å­—ä½“ï¼šç­‰å®½å­—ä½“
	button["BorderSizePixel"] = 0 -- æ— è¾¹æ¡†
	button["BackgroundTransparency"] = 0.3 -- é€æ˜Žåº¦ï¼š30%å¯è§ï¼Œæ›´é€æ˜Ž
	button["Parent"] = topBar -- çˆ¶çº§è®¾ä¸ºé¡¶éƒ¨æ 
	-- æŒ‰é’®åœ†è§’
	local btnCorner = Instance.new("UICorner")
	btnCorner.CornerRadius = UDim.new(0, 6) -- åœ†è§’å¤§å°ï¼š6åƒç´ 
	btnCorner.Parent = button

	-- æŒ‰é’®å›žå¼¹æ•ˆæžœï¼ˆæ‹–æ‹½æ—¶ç¦ç”¨ï¼Œé¿å…è§†è§‰å†²çªï¼‰
	button["MouseButton1Down"]:Connect(function()
		if not isDragging then
			tweenService:Create(button, TweenInfo.new(0.05), {
				Size = UDim2.new(size.X.Scale, size.X.Offset * 0.9, size.Y.Scale, size.Y.Offset * 0.9)
			}):Play()
			clickSound() -- æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
		end
	end)
	button["MouseButton1Up"]:Connect(function()
		if not isDragging then
			tweenService:Create(button, TweenInfo.new(0.05), {
				Size = size
			}):Play()
		end
	end)
	button["MouseLeave"]:Connect(function()
		if not isDragging then
			tweenService:Create(button, TweenInfo.new(0.05), {
				Size = size
			}):Play()
		end
	end)

	return button -- è¿”å›žåˆ›å»ºçš„æŒ‰é’®
end

-- ä¸‰ä¸ªäº¤äº’æŒ‰é’®å·²ç§»åŠ¨åˆ°æ»šåŠ¨åŒºåŸŸ

-- æ ‡é¢˜ï¼šä»…æœ€å¤§åŒ–æ˜¾ç¤ºï¼Œæœ€å°åŒ–éšè—
local titleLabel = Instance.new("TextLabel")
titleLabel["Size"] = UDim2.new(1, -200, 1, 0) -- å®½åº¦é¢„ç•™200åƒç´ ç»™å³ä¾§æŒ‰é’®
titleLabel["Position"] = UDim2.new(0, 0, 0, 0) -- å±…ä¸­æ˜¾ç¤º
titleLabel["BackgroundTransparency"] = 1 -- èƒŒæ™¯å®Œå…¨é€æ˜Ž
titleLabel["Text"] = "ç§äººå®šåˆ¶_å¾ªçŽ¯åŠ¨ç”»" -- æ ‡é¢˜æ–‡æœ¬
titleLabel["Font"] = Enum.Font.RobotoMono -- å­—ä½“ï¼šç­‰å®½å­—ä½“
titleLabel["TextXAlignment"] = Enum.TextXAlignment.Center -- æ–‡æœ¬å±…ä¸­å¯¹é½
titleLabel["TextColor3"] = Color3.new(1, 1, 1) -- æ–‡æœ¬è‰²ï¼šç™½è‰²
titleLabel["TextSize"] = 16 -- æ ‡é¢˜å­—ä½“å¤§å°
titleLabel["Parent"] = topBar -- çˆ¶çº§è®¾ä¸ºé¡¶éƒ¨æ 
titleLabel["Visible"] = true -- åˆå§‹æœ€å¤§åŒ–çŠ¶æ€ï¼Œé»˜è®¤æ˜¾ç¤º

-- ä¸ºæ ‡é¢˜æ·»åŠ åŠ¨æ€ä¸ƒå½©æ¸å˜è‰²æ•ˆæžœ
local titleGradient = Instance.new("UIGradient")
titleGradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0.0, Color3.fromRGB(255, 0, 0)),     -- çº¢è‰²
	ColorSequenceKeypoint.new(0.16, Color3.fromRGB(255, 165, 0)),  -- æ©™è‰²
	ColorSequenceKeypoint.new(0.33, Color3.fromRGB(255, 255, 0)),  -- é»„è‰²
	ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 0)),     -- ç»¿è‰²
	ColorSequenceKeypoint.new(0.66, Color3.fromRGB(0, 255, 255)),  -- é’è‰²
	ColorSequenceKeypoint.new(0.83, Color3.fromRGB(0, 0, 255)),    -- è“è‰²
	ColorSequenceKeypoint.new(1.0, Color3.fromRGB(128, 0, 128))    -- ç´«è‰²
}
titleGradient.Rotation = 0 -- åˆå§‹è§’åº¦
titleGradient.Parent = titleLabel

-- åˆ›å»ºåŠ¨æ€æ—‹è½¬æ•ˆæžœ
local rotationSpeed = 2 -- æ—‹è½¬é€Ÿåº¦ï¼ˆåº¦/ç§’ï¼‰
local currentRotation = 0
local rotationConnection

local function updateTitleGradient()
	currentRotation = (currentRotation + rotationSpeed) % 360
	titleGradient.Rotation = currentRotation
end

-- å¯åŠ¨åŠ¨æ€æ—‹è½¬
rotationConnection = game:GetService("RunService").Heartbeat:Connect(updateTitleGradient)

-- æœç´¢æ ï¼šä»…æœ€å¤§åŒ–æ˜¾ç¤ºï¼Œæœ€å°åŒ–éšè—
local searchBar = Instance.new("Frame")
searchBar["Size"] = UDim2.new(1, 0, 0, 28) -- å®½åº¦éšä¸»æ¡†æž¶ï¼Œé«˜åº¦å›ºå®š28
searchBar["Position"] = UDim2.new(0, 0, 0, 28) -- ä½ç½®ï¼šé¡¶éƒ¨æ ä¸‹æ–¹
searchBar["BackgroundColor3"] = Color3.fromRGB(0, 0, 0) -- æ”¹ä¸ºé»‘è‰²èƒŒæ™¯ï¼Œä¸Žä¸»UIä¸€è‡´
searchBar["BorderSizePixel"] = 0 -- æ— è¾¹æ¡†
searchBar["BackgroundTransparency"] = 0.8 -- é€æ˜Žåº¦ï¼šä¸Žä¸»UIä¸€è‡´
searchBar["Parent"] = mainFrame -- çˆ¶çº§è®¾ä¸ºä¸»æ¡†æž¶
searchBar["Visible"] = true -- åˆå§‹æœ€å¤§åŒ–çŠ¶æ€ï¼Œé»˜è®¤æ˜¾ç¤º
-- æœç´¢æ åœ†è§’
local searchBarCorner = Instance.new("UICorner")
searchBarCorner.CornerRadius = UDim.new(0, 8) -- åœ†è§’å¤§å°ï¼š8åƒç´ 
searchBarCorner.Parent = searchBar

-- æœç´¢æ¡†ï¼šä¼˜åŒ–æç¤ºæ–‡æœ¬äº¤äº’ï¼ˆç‚¹å‡»åŽæç¤ºæ¶ˆå¤±ï¼‰
local searchBox = Instance.new("TextBox")
searchBox["Size"] = UDim2.new(1, -10, 0, 18) -- ç¼©å°æœç´¢æ¡†é«˜åº¦ï¼ˆå·¦å³ç•™5åƒç´ è¾¹è·ï¼‰
searchBox["Position"] = UDim2.new(0, 5, 0, 5) -- ä½ç½®ï¼šæœç´¢æ å†…
searchBox["BackgroundColor3"] = Color3.fromRGB(135, 206, 235) -- å¤©ç©ºè“èƒŒæ™¯ï¼ˆä¸Žä¸»é¢˜ä¸€è‡´ï¼‰
searchBox["TextColor3"] = Color3.new(1, 1, 1) -- æ–‡æœ¬è‰²ï¼šç™½è‰²
searchBox["PlaceholderText"] = "æœç´¢åŠ¨ç”»" -- æç¤ºæ–‡æœ¬
searchBox["PlaceholderColor3"] = Color3.fromRGB(220, 220, 220) -- æç¤ºè‰²ï¼šæµ…ç°ç™½ï¼ˆæ›´é†’ç›®ï¼‰
searchBox["Text"] = "" -- åˆå§‹æ–‡æœ¬ä¸ºç©º
searchBox["TextSize"] = 14 -- å­—ä½“æ”¾å¤§ï¼Œæ›´æ˜“è¯†åˆ«
searchBox["Font"] = Enum.Font.RobotoMono -- å­—ä½“ï¼šç­‰å®½å­—ä½“
searchBox["BorderSizePixel"] = 0 -- æ— è¾¹æ¡†
searchBox["BackgroundTransparency"] = 0.6 -- é€æ˜Žåº¦ï¼š40%å¯è§ï¼Œæ›´é€æ˜Ž
searchBox["TextEditable"] = true -- ç¡®ä¿æ–‡æœ¬å¯ç¼–è¾‘
searchBox["ClearTextOnFocus"] = false -- ä¸åœ¨èŽ·å¾—ç„¦ç‚¹æ—¶æ¸…ç©ºæ–‡æœ¬
searchBox["Parent"] = searchBar -- çˆ¶çº§è®¾ä¸ºæœç´¢æ 
searchBox["Visible"] = true -- åˆå§‹æœ€å¤§åŒ–çŠ¶æ€ï¼Œé»˜è®¤æ˜¾ç¤º
-- æœç´¢æ¡†åœ†è§’
local searchBoxCorner = Instance.new("UICorner")
searchBoxCorner.CornerRadius = UDim.new(0, 6) -- åœ†è§’å¤§å°ï¼š6åƒç´ 
searchBoxCorner.Parent = searchBox

-- æœç´¢æ¡†äº¤äº’ï¼šç‚¹å‡»æ¶ˆå¤±æç¤ºï¼Œå¤±ç„¦æ¢å¤
searchBox["Focused"]:Connect(function()
	-- å½“æœç´¢æ¡†èŽ·å¾—ç„¦ç‚¹æ—¶ï¼Œæ¸…ç©ºæç¤ºæ–‡æœ¬ï¼Œå…è®¸ç”¨æˆ·è¾“å…¥
	if searchBox["Text"] == "" then
		searchBox["PlaceholderText"] = ""
	end
end)
searchBox["FocusLost"]:Connect(function(enterPressed)
	-- å½“æœç´¢æ¡†å¤±åŽ»ç„¦ç‚¹æ—¶ï¼Œå¦‚æžœæ²¡æœ‰è¾“å…¥å†…å®¹ï¼Œæ¢å¤æç¤ºæ–‡æœ¬
	if searchBox["Text"] == "" then
		searchBox["PlaceholderText"] = "æœç´¢åŠ¨ç”»"
	end
end)

-- ä¿®å¤3ï¼šå³ä¸Šè§’ä¸‰ä¸ªåŠŸèƒ½æŒ‰é’®æ”¹ä¸ºåŠ¨ç”»åŒ…åå­—æŒ‰é’®ï¼Œé»˜è®¤å¼€å¯åŠ¨ä½œ
-- å…¨å±€å˜é‡ï¼šè·Ÿè¸ªä¸‰ä¸ªåŠ¨ç”»åŒ…çš„çŠ¶æ€
local walkAnimActive = true  -- èµ°è·¯åŒ…é»˜è®¤å¼€å¯
local idleAnimActive = true  -- å¾…æœºåŒ…é»˜è®¤å¼€å¯
local jumpAnimActive = true  -- è·³è·ƒåŒ…é»˜è®¤å¼€å¯

-- 1. èµ°è·¯åŠ¨ç”»åŒ…æŒ‰é’®
local walkButton = createButton(
	"WalkButton", 
	UDim2.new(1, -205, 0, 5), -- æœ€å·¦è¾¹ä½ç½®
	UDim2.new(0, 50, 0, 18),  -- å°ºå¯¸ï¼šå®½50ï¼Œé«˜18
	"button1", 
	"åœæ­¢èµ°è·¯"  -- é»˜è®¤æ˜¾ç¤º"åœæ­¢èµ°è·¯"ï¼Œå› ä¸ºé»˜è®¤æ˜¯å¼€å¯çŠ¶æ€
)

-- 2. å¾…æœºåŠ¨ç”»åŒ…æŒ‰é’®
local idleButton = createButton(
	"IdleButton", 
	UDim2.new(1, -150, 0, 5), -- ä¸­é—´ä½ç½®
	UDim2.new(0, 50, 0, 18),  -- å°ºå¯¸ï¼šå®½50ï¼Œé«˜18
	"button2", 
	"åœæ­¢å¾…æœº"  -- é»˜è®¤æ˜¾ç¤º"åœæ­¢å¾…æœº"ï¼Œå› ä¸ºé»˜è®¤æ˜¯å¼€å¯çŠ¶æ€
)

-- 3. è·³è·ƒåŠ¨ç”»åŒ…æŒ‰é’®
local jumpButton = createButton(
	"JumpButton", 
	UDim2.new(1, -95, 0, 5), -- å³è¾¹ä½ç½®
	UDim2.new(0, 50, 0, 18),  -- å°ºå¯¸ï¼šå®½50ï¼Œé«˜18
	"button3", 
	"åœæ­¢è·³è·ƒ"  -- é»˜è®¤æ˜¾ç¤º"åœæ­¢è·³è·ƒ"ï¼Œå› ä¸ºé»˜è®¤æ˜¯å¼€å¯çŠ¶æ€
)

-- 4. åœæ­¢æ‰€æœ‰åŠ¨ä½œæŒ‰é’®
local stopAllButton = createButton(
	"StopAllButton", 
	UDim2.new(1, -40, 0, 5), -- åœ¨å…³é—­æŒ‰é’®å·¦è¾¹
	UDim2.new(0, 20, 0, 20),  -- å°ºå¯¸ï¼šå®½20ï¼Œé«˜18
	"stop", 
	"â– "  -- åœæ­¢ç¬¦å·
)

-- 5. å…³é—­æŒ‰é’®ï¼ˆä¿æŒåŽŸä½ç½®ï¼‰
local closeButton = createButton(
	"CloseButton", 
	UDim2.new(1, -19, 0, 5),  -- ä½ç½®ï¼šæœ€å³è¾¹
	UDim2.new(0, 20, 0, 20),  -- å°ºå¯¸ï¼š18x18ï¼ˆæ­£æ–¹å½¢ï¼‰
	"close", 
	"X"
)

-- æ˜¾ç¤ºæ‰€æœ‰æŒ‰é’®
walkButton["Visible"] = true
idleButton["Visible"] = true
jumpButton["Visible"] = true
stopAllButton["Visible"] = true
closeButton["Visible"] = true

-- çªå‡ºæ˜¾ç¤ºä¸‰ä¸ªåŠ¨ç”»åŒ…æŒ‰é’®åå­—é¢œè‰²
walkButton["TextColor3"] = Color3.fromRGB(255, 255, 0) -- é»„è‰²ï¼Œæ›´çªå‡º
idleButton["TextColor3"] = Color3.fromRGB(255, 255, 0) -- é»„è‰²ï¼Œæ›´çªå‡º
jumpButton["TextColor3"] = Color3.fromRGB(255, 255, 0) -- é»„è‰²ï¼Œæ›´çªå‡º

-- æ³¨æ„ï¼šæœ€å°åŒ–å›¾æ ‡æŒ‰é’®å°†åœ¨åŽé¢ç»Ÿä¸€åˆ›å»ºï¼Œé¿å…é‡å¤å®šä¹‰

-- æ»šåŠ¨æ¡†æž¶ï¼šä»…æœ€å¤§åŒ–æ˜¾ç¤ºï¼Œæœ€å°åŒ–éšè—
local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame["Size"] = UDim2.new(1, 0, 0, 184) -- æœ€å¤§åŒ–æ—¶å°ºå¯¸
scrollFrame["Position"] = UDim2.new(0, 0, 0, 56) -- ä½ç½®ï¼šé¡¶éƒ¨æ +æœç´¢æ ä¸‹æ–¹
scrollFrame["CanvasSize"] = UDim2.new(0, 0, 0, 0) -- åˆå§‹ç”»å¸ƒå¤§å°
scrollFrame["ScrollBarThickness"] = 0 -- éšè—æ»šåŠ¨æ¡
scrollFrame["BorderSizePixel"] = 0 -- æ— è¾¹æ¡†
scrollFrame["BackgroundTransparency"] = 1 -- èƒŒæ™¯å®Œå…¨é€æ˜Ž
scrollFrame["BackgroundColor3"] = Color3.fromRGB(0, 0, 0) -- æ”¹ä¸ºé»‘è‰²èƒŒæ™¯ï¼Œä¸Žä¸»UIä¸€è‡´
scrollFrame["Parent"] = mainFrame -- çˆ¶çº§è®¾ä¸ºä¸»æ¡†æž¶
scrollFrame["Visible"] = true -- åˆå§‹æœ€å¤§åŒ–çŠ¶æ€ï¼Œé»˜è®¤æ˜¾ç¤º

-- æŒ‰é’®å®¹å™¨ï¼šä»…æœ€å¤§åŒ–æ˜¾ç¤ºï¼Œæœ€å°åŒ–éšè—
local buttonContainer = Instance.new("Frame")
buttonContainer["Size"] = UDim2.new(1, 0, 1, 0) -- å°ºå¯¸ä¸Žæ»šåŠ¨æ¡†ä¸€è‡´
buttonContainer["Position"] = UDim2.new(0, 5, 0, 0) -- ä½ç½®ï¼šæ»šåŠ¨æ¡†å†…å·¦ä¾§
buttonContainer["BackgroundTransparency"] = 1 -- èƒŒæ™¯å®Œå…¨é€æ˜Ž
buttonContainer["Parent"] = scrollFrame -- çˆ¶çº§è®¾ä¸ºæ»šåŠ¨æ¡†æž¶
buttonContainer["Visible"] = true -- åˆå§‹æœ€å¤§åŒ–çŠ¶æ€ï¼Œé»˜è®¤æ˜¾ç¤º

-- 4. åŠ¨ä½œæŒ‰é’®å¸ƒå±€ï¼šä»…æœ€å¤§åŒ–ç”Ÿæ•ˆ
local buttonLayout = Instance.new("UIGridLayout")
buttonLayout["CellPadding"] = UDim2.new(0, 2, 0, 2) -- æŒ‰é’®é—´è·ï¼š2åƒç´ 
buttonLayout["CellSize"] = UDim2.new(0, 75, 0, 45) -- åŠ¨ä½œæŒ‰é’®å°ºå¯¸75x45ï¼ˆé€‚é…å››æŽ’å¸ƒå±€ï¼‰
buttonLayout["SortOrder"] = Enum.SortOrder.LayoutOrder -- æŒ‰å¸ƒå±€é¡ºåºæŽ’åº
buttonLayout["FillDirection"] = Enum.FillDirection.Horizontal -- æ°´å¹³å¡«å……
buttonLayout["HorizontalAlignment"] = Enum.HorizontalAlignment.Left -- å·¦å¯¹é½
buttonLayout["VerticalAlignment"] = Enum.VerticalAlignment.Top -- é¡¶éƒ¨å¯¹é½
buttonLayout["Parent"] = buttonContainer -- çˆ¶çº§è®¾ä¸ºæŒ‰é’®å®¹å™¨

-- åŠ¨ç”»åˆ—è¡¨ï¼šåŒ…å«åŠ¨ç”»åç§°ã€IDã€é€Ÿåº¦ã€èµ·å§‹ä½ç½®ã€æ˜¯å¦å¾ªçŽ¯ã€æ˜¯å¦ç»“æŸå†»ç»“ï¼ˆåŒ…å«ä¸‰ä¸ªè‡ªå®šä¹‰äº¤äº’æŒ‰é’®ï¼‰
local animations = {
	-- ä¸‰ä¸ªè‡ªå®šä¹‰äº¤äº’æŒ‰é’®
	{name = "èµ°è·¯åŠ¨ç”»åŒ…", id = 0, speed = 1, timepos = 0, looped = true, freezeonend = false, isCustom = true, customImage = "rbxthumb://type=Asset&id=13416449761&w=150&h=150"},
	{name = "å¾…æœºåŠ¨ç”»åŒ…", id = 0, speed = 1, timepos = 0, looped = true, freezeonend = false, isCustom = true, customImage = "rbxthumb://type=Asset&id=14159617527&w=150&h=150"},
	{name = "è·³è·ƒåŠ¨ç”»åŒ…", id = 0, speed = 1, timepos = 0, looped = true, freezeonend = false, isCustom = true, customImage = "rbxthumb://type=Asset&id=14442160450&w=150&h=150"},
	-- åŽŸæœ‰åŠ¨ç”»æ•°æ®
	{name = "åŠ å·žå¥³å­©", id = 124982597491660, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ç›´å‡æœº", id = 95301257497525, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ç›´å‡æœº 2", id = 122951149300674, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ç›´å‡æœº 3", id = 91257498644328, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "è¡—åŒºèˆžè¹ˆ", id = 108171959207138, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "è¡—åŒºè·ºè„š", id = 115048845533448, speed = 1.4, timepos = 0, looped = true, freezeonend = false},
	{name = "æ‰‘è…¾çš„é±¼", id = 79075971527754, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ±Ÿå—Style", id = 100531289776679, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ç„¦ç³–èˆž", id = 88315693621494, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ç©ºä¸­ç”»åœˆ", id = 94324173536622, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "å·¦æ‰‹æ¯”å¿ƒ", id = 110936682778213, speed = 0, timepos = 0, looped = true, freezeonend = false},
	{name = "å³æ‰‹æ¯”å¿ƒ", id = 84671941093489, speed = 0, timepos = 0, looped = true, freezeonend = false},
	{name = "æ•°å­—67", id = 115439144505157, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ•°å­—6", id = 115439144505157, speed = 0, timepos = 0.2, looped = false, freezeonend = false},
	{name = "æ•°å­—7", id = 115439144505157, speed = 0, timepos = 1.2, looped = false, freezeonend = false},
	{name = "å°ç‹—åŠ¨ä½œ", id = 78195344190486, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "MM2å†¥æƒ³", id = 86872878957632, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "é»˜è®¤èˆžè¹ˆ", id = 88455578674030, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "åä¸‹", id = 97185364700038, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "å“¥è¨å…‹è¸¢", id = 119264600441310, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æˆ˜æ–—å§¿åŠ¿", id = 116763940575803, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ä½ æ˜¯è°å‘€", id = 81389876138766, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ‘‡æ™ƒåå§¿", id = 130995344283026, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ‘‡æ™ƒåå§¿", id = 131836270858895, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "è •è™«èˆž", id = 90333292347820, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "è›‡å½¢åŠ¨ä½œ", id = 98476854035224, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "å½¼å¾—Â·æ ¼é‡ŒèŠ¬æ­»äº¡", id = 129787664584610, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ²ƒå°”ç‰¹åœºæ™¯", id = 113475147402830, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "å¯çˆ±è¶´å§¿", id = 80754582835479, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æš—å½±è¿ªå¥¥å§¿åŠ¿", id = 92266904563270, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ‰¿å¤ªéƒŽå§¿åŠ¿", id = 122120443600865, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "JOJOå§¿åŠ¿", id = 120629563851640, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ¼‚æµ®è¶´å§¿", id = 77840765435893, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "åœ£ç»çº§å½¢è±¡", id = 109873544976020, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ— å¤´", id = 78837807518622, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ME!ME!ME!", id = 103235915424832, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "é£žæœºåŠ¨ä½œ", id = 82135680487389, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "XavierSoBased", id = 90802740360125, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ä¸­å›½é£Žèˆžè¹ˆ", id = 131758838511368, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "èƒŒå¤´åŠ¨ä½œ", id = 74288964113793, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ±½è½¦åŠ¨ä½œ", id = 108747312576405, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "Beat Da Koto Nai", id = 93497729736287, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "å¦å…‹åŠ¨ä½œ", id = 94915612757079, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ç»å…¸èµ°å§¿", id = 107806791584829, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ€ªå¼‚ç”Ÿç‰©", id = 87025086742503, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "é©¬æ¡¶äºº", id = 127154705636043, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ»šåŠ¨å“­åŒ…", id = 129699431093711, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ€è€ƒåŠ¨ä½œ", id = 127088545449493, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "å‡æ­»", id = 88130117312312, speed = 1, timepos = 0, looped = false, freezeonend = true},
	{name = "LaceåŠ¨ä½œ", id = 135611169366768, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ç©¿æ­å±•ç¤º", id = 81176957565811, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æŠ•é™åŠ¨ä½œ", id = 100537772865440, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "Assumptions", id = 91294374426630, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ ¼é‡Œè¿ªèˆž", id = 121966805049108, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æŽ¥å—å¤±è´¥", id = 78653596566468, speed = 1, timepos = 0, looped = true, freezeonend = true},
	{name = "ç¯®çƒè½¬è„‘è¢‹", id = 92854797386719, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "é¹¦é¹‰èˆžè¹ˆ", id = 101810746304426, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ä¸­æžªåŠ¨ä½œ", id = 102691551292124, speed = 1, timepos = 0, looped = false, freezeonend = true},
	{name = "å¸ƒå¨ƒå¨ƒæ•ˆæžœ", id = 136224735234038, speed = 1, timepos = 0, looped = false, freezeonend = true},
	{name = "ä¼¤å¿ƒåå§¿", id = 100798804992348, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ±½æ°´åŠ¨ä½œ", id = 105459130960429, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ¯”åˆ©å¼¹è·³", id = 137501135905857, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "Ballinèˆžè¹ˆ", id = 119242308765484, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ç”µé’»åŠ¨ä½œ", id = 91423662648449, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ€ªç‰© Mash", id = 137883764619555, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "èŠ™æ¢¦ plush", id = 107217181254431, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "é­…åŠ›åŽç©ºç¿»", id = 131205329995035, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ¼‚æµ®åŠ¨ä½œ", id = 89523370947906, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "æ‰“æ‹›å‘¼", id = 103041144411206, speed = 1, timepos = 0, looped = false, freezeonend = true},
	{name = "é™„èº«åŠ¨ä½œ", id = 90708290447388, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "ï¼ˆä¸é›…è¯æ±‡ï¼‰", id = 98289978017308, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "é“¶å½±ä¾ ", id = 100663712757148, speed = 0.8, timepos = 0, looped = true, freezeonend = false},
	{name = "é«˜å¤§ä¸æ˜Žç‰©ä½“", id = 118864464720628, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "çŒ«å’ªåå§¿", id = 99424293618796, speed = 1, timepos = 0, looped = true, freezeonend = false},
	{name = "é»‘é—ª", id = 104767795538635, speed = 1, timepos = 0, looped = true, freezeonend = false},
    {name = "è‡€éƒ¨æ‘‡æ‘†", id = 10714364213, speed = 1, timepos = 0, looped = true, freezeonend = false},
    {name = "åœ°é¢æ‘‡æ»š", id = 10214314957, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åœ°é¢æ‘‡æ»šå®šæ ¼ - æ±¤ç±³Â·å¸Œå°”è´¹æ ¼", id = 10214314957, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è¡—å¤´æ¼«æ­¥è¡¨æƒ…", id = 10713981723, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¼“ä¹å¤§å¸ˆ - çš‡å®¶è¡€æ¶²ä¹é˜Ÿ", id = 10714070681, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE å¨œçå…ƒæ°”å¾‹åŠ¨", id = 13768941455, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç¢Žç¢Žå¿µè¡¨æƒ…", id = 10713986541, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è¶…çº§å……èƒ½", id = 10478338114, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ‘‡æ»šèµ·æ¥è¡¨æƒ…", id = 10714403700, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ—‹è½¬", id = 10714293450, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å‘œé¸£åŠ é€Ÿï¼ˆæ‹Ÿå£°ï¼‰", id = 18526397037, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å…”å­è¹¦è·³è¡¨æƒ…", id = 10714004791, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è¿·ä½ é‡‘åˆš", id = 17000021306, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "èƒœåˆ©ä¹‹èˆž", id = 15505456446, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ‹³å‡»å‡ºå‡»è¡¨æƒ…", id = 10717116749, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ‰­è‡€å¾‹åŠ¨ - æ‰Žæ‹‰Â·æ‹‰å°”æ£®", id = 10714364213, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¼“ä¹ç‹¬å¥ - çš‡å®¶è¡€æ¶²ä¹é˜Ÿ", id = 10714074218, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å”°å”°è¡¨æƒ…ï¼ˆæ‹Ÿå£°ï¼‰", id = 10714349738, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¸•å°¼å°¼ä¹‹èˆž - åˆ©å°”Â·çº³æ–¯Â·Xï¼ˆLNXï¼‰", id = 10714394082, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æµ·è±šèˆžè¡¨æƒ…", id = 10714068222, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ‰‹è‡‚æ‰­è½¬è¡¨æƒ…", id = 10713968716, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "çœ¼é•œè›‡æ‰‹è‡‚ - æ³°Â·ç»´å¾·æ–¯", id = 10714022275, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¦®çªÂ·ç±³å¨œ è¿™å°±æ˜¯è¶…çº§è´æ–¯åŠ¨ä½œ", id = 15571446961, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¼€å¿ƒ", id = 10714352626, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å®è´èˆžè¹ˆ", id = 10713983178, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ‹‰æ–¯æ™®äº¬ â€“ æ³¢å°¼Â·Mä¹é˜Ÿ", id = 114872820353992, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ±¤ç±³Â·éŸ©å›½æµè¡ŒéŸ³ä¹éº¦å…‹é£ŽæŽ‰è½", id = 14024642130, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¡¶çº§æ‘‡æ»šè¡¨æƒ…", id = 10714336041, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ¢…Â·æ–¯è’‚èŠ¬æ–¯ â€“ æ‰‹è‡‚æ³¢æµª", id = 16584481352, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "èƒœåˆ© - 24kGoldnï¼ˆéŸ³ä¹äººï¼‰", id = 10714171628, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é˜¿è¿ªè¾¾æ–¯ç¤¾åŒºåŠ¨ç”»åŒ…", id = 122150855457006, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "BLACKPINK ç»ˆæ­¢ï¼ˆShut Downï¼‰- ç¬¬ä¸€éƒ¨åˆ†", id = 14901306096, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åŸƒå°”é¡¿Â·çº¦ç¿° - æ‘‡æ»šèµ·æ¥", id = 11753474067, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å…”å­è¹¦è·³", id = 10714004791, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é«˜ä¸¾æŒ¥æ‰‹è¡¨æƒ…", id = 10714362852, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ¡‘å·´èˆž", id = 10714386947, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å‘æŠ–è¡¨æƒ…", id = 10714379581, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "BLACKPINK ç²‰è‰²æ¯’æ¶²ï¼ˆPink Venomï¼‰- æŠ“ä½ä»–ä»¬ æŠ“ä½ä»–ä»¬ æŠ“ä½ä»–ä»¬", id = 14548619594, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æœºå™¨äººæ¢…æ ¹ï¼ˆM3GANï¼‰", id = 125803725853577, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "éš¾è¿‡è¡¨æƒ…", id = 10714392876, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å®è´å¥³çŽ‹ - ç©ºæ°”å‰ä»–ä¸Žæ»‘è·ª", id = 14352335202, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä¼˜é›…è¾¾é˜µ", id = 16302968986, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "Stray Kids æ°´ä¸Šè¡Œèµ°", id = 125064469983655, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ‘‡æ»šèµ·æ¥", id = 10714403700, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åšæŸåˆ©ç»½æ”¾è¡¨æƒ…ï¼ˆBurberry Bloomï¼‰", id = 10714007154, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è‹±é›„è½åœ°è¡¨æƒ…", id = 10714360164, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "gdmcï¼ˆè‹±æ–‡ç¼©å†™ï¼Œä¿ç•™åŽŸåï¼‰", id = 13694101936, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE ä»€ä¹ˆæ˜¯çˆ±ï¼ˆWhat Is Loveï¼‰", id = 13327655243, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æœ€æ£’è¡¨æƒ…", id = 10714349037, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¼“ä¹å¤§å¸ˆçš‡å®¶è¡€æ¶²ä¹é˜Ÿè¡¨æƒ…", id = 10714070681, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åŸƒå°”é¡¿Â·çº¦ç¿° - å¿ƒè·³æ‘‡æ‘†", id = 17748314784, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ— èŠ", id = 10713992055, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ‹›æ‰‹è¡¨æƒ…", id = 10713984554, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å±ˆè†ç¤¼", id = 10714061912, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "Jacksï¼ˆä¿ç•™åŽŸåï¼‰", id = 10714375667, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE æ„Ÿåˆ°ç‰¹åˆ«ï¼ˆFeel Specialï¼‰", id = 14899980745, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å®³ç¾ž", id = 10714369325, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä¹”å°¼ - è·ºè„š", id = 16392075853, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ—¶å°šæ”€çˆ¬", id = 10921271391, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä½³ä»ï¼ˆGashinaï¼‰- å®£ç¾Ž", id = 9527886709, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç©ºæ°”å‰ä»–", id = 10713959108, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è€åŸŽä¹‹è·¯èˆžè¹ˆåˆ©å°”Â·çº³æ–¯Â·Xè¡¨æƒ…ï¼ˆOld Town Roadï¼‰", id = 10714391240, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¥¥åˆ©ç»´äºšÂ·ç½—å¾·é‡Œæˆˆ å›žè½æ¼‚æµ®", id = 15549124879, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¼“æ‰‹åŠ¨ä½œ - äºŒåä¸€åé£žè¡Œå‘˜ä¹é˜Ÿ", id = 10714072822, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æŒ‡æŒ¥å®¶ - ä¹”æ²»Â·åŸƒå…¹æ‹‰", id = 10370359115, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¤©é¹…èˆžè¡¨æƒ…", id = 10714352930, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "hh2ï¼ˆè‹±æ–‡ç¼©å†™ï¼Œä¿ç•™åŽŸåï¼‰", id = 14851541605, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é˜¿è¿ªè¾¾æ–¯ç¤¾åŒºåŠ¨ç”»åŒ…", id = 98600215928904, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åšç½—å…‹æ–¯æ„¤æ€’è¡¨æƒ…ï¼ˆBorocks Rageï¼‰", id = 10713999630, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è€¸è‚©", id = 10714374484, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åŸƒå°”é¡¿Â·çº¦ç¿° - å¿ƒè·³è·³è·ƒ", id = 11309255148, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "BLACKPINK ä¸½èŽŽ é‡‘é’±ï¼ˆMoneyï¼‰", id = 15679623052, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å‘¨å…­èˆžè¹ˆè¡¨æƒ…", id = 10714382522, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è¶…é«˜é€Ÿ5Gèˆžè¹ˆåŠ¨ä½œ", id = 10714371264, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç©ºæ°”å‰ä»–åŠ¨ä½œï¼ˆEmote_AirGuitarï¼‰", id = 10713959108, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä½“è‚²åœºè¡¨æƒ…", id = 10714356920, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å®è´å¥³çŽ‹ - è„¸éƒ¨æ¡†æž¶åŠ¨ä½œ", id = 14352340648, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç¾Žå›½é˜Ÿéœ¹é›³èˆžåŠ¨ä½œ", id = 18526288497, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç‹‚çƒ­èˆžè¹ˆè¡¨æƒ…", id = 10714369624, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "thhsv3ï¼ˆè‹±æ–‡ç¼©å†™ï¼Œä¿ç•™åŽŸåï¼‰", id = 14109772540, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å®è´ï¼ˆbbyï¼Œè‹±æ–‡ç¼©å†™ï¼‰", id = 14851544078, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "çŒ´å­", id = 10714388352, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "BLACKPINK å¥½åƒæœ€åŽä¸€æ¬¡ï¼ˆAs If It's Your Lastï¼‰", id = 18855536648, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ¢…æ ¹çš„èˆžè¹ˆï¼ˆM3GAN's Danceï¼‰", id = 99649534578309, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è¶…è¶Šè‡ªæˆ‘ - çƒŸé¬¼ç»„åˆ", id = 12992262118, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä½“è‚²åœº", id = 10714356920, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä¸æ˜¯æˆ‘çš„é”™ - æ‰Žæ‹‰Â·æ‹‰å°”æ£®", id = 10714374267, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¡¶çº§æ‘‡æ»š - æµ‹è¯•ï¼ˆTopRock - Testï¼‰", id = 3058460854, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é«˜ä¸¾åŒæ‰‹è¡¨æƒ…", id = 10714361543, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è¿˜å¥½ï¼ˆAOKï¼‰- æ³°Â·ç»´å¾·æ–¯", id = 10713962506, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE å“¦å•Šï¼ˆLike Ooh-Ahhï¼‰", id = 14123781004, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æœºå™¨äºº", id = 10714392151, speed = 1, timepos = 0, looped = true, freezeonend = false},
 



{name = "åŸƒå°”é¡¿Â·çº¦ç¿° - å‡åŽ", id = 11394033602, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å‡æ—¥èˆžè¹ˆåˆ©å°”Â·çº³æ–¯Â·Xè¡¨æƒ…ï¼ˆLNXï¼‰", id = 10714365721, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¼—æ´›æ–¯èˆžè¹ˆï¼ˆFloss Danceï¼Œæµè¡Œèˆžè¹ˆåç§°ï¼‰", id = 10714340543, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç©ºä¸­èˆžè¹ˆ", id = 10713957138, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ»šçŸ³ä¹é˜Ÿå‰ä»–æ‰«å¼¦", id = 18148804340, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç¦»å¼€è¡¨æƒ…", id = 10714345862, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "Aloç‘œä¼½å§¿åŠ¿ - èŽ²èŠ±å", id = 12507085924, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åº“ç§‘ - æ¼‚æµ®ï¼ˆLevitateï¼‰", id = 15698404340, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¥¥åˆ©ç»´äºšÂ·ç½—å¾·é‡Œæˆˆ - ç¥ä½ å®‰å¥½ï¼ˆgood 4 uï¼‰", id = 15517862739, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "hh1ï¼ˆè‹±æ–‡ç¼©å†™ï¼Œä¿ç•™åŽŸåï¼‰", id = 14851539444, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "NBAæ€ªå…½æ‰£ç¯®", id = 132748833449150, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ°å…‹è¡¨æƒ…ï¼ˆJacksï¼‰", id = 10714375667, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE å‡»å€’ç¬¬ä¸€éƒ¨åˆ† - æ¥è‡ªéŸ©å›½æµè¡ŒéŸ³ä¹æ¶é­”çŒŽæ‰‹", id = 140182843839424, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "BLACKPINK å˜Ÿå˜Ÿå˜Ÿï¼ˆDDU-DU DDU-DUï¼‰", id = 16553170471, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å®è´èˆžè¹ˆè¡¨æƒ…", id = 10713983178, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä¾§æ‰‹ç¿» - ä¹”æ²»Â·åŸƒå…¹æ‹‰", id = 10370351535, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "Aloç‘œä¼½å§¿åŠ¿ - æˆ˜å£«äºŒå¼", id = 12507083048, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¶åƒï¼ˆIdolï¼‰", id = 10714372526, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¤§å£°ç‚¹ï¼ˆLouderï¼‰", id = 10714385204, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å·¦å³æ‘‡æ‘†è¡¨æƒ…", id = 10714366910, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é’“é±¼è¡¨æƒ…", id = 10714101749, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ°æ°èˆžè¡¨æƒ…ï¼ˆCha Chaï¼‰", id = 10714018192, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å‘è„¾æ°”ï¼ˆTantrumï¼‰", id = 10714340558, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åŒæ„è¡¨æƒ…", id = 10713954623, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE æˆ‘æŠ“ä½ä½ äº† ç¬¬äºŒéƒ¨åˆ†ï¼ˆI GOT YOU part 2ï¼‰", id = 16256203246, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é˜¿è¿ªè¾¾æ–¯ç¤¾åŒºåŠ¨ç”»åŒ…", id = 133308483266208, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE å–œæ¬¢ä½ ï¼ˆLIKEYï¼‰", id = 14899979575, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç–¯ç‹‚ï¼ˆMANIACï¼‰- Stray Kids", id = 11309304959, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å‘è„¾æ°”è¡¨æƒ…", id = 10714340558, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ ‘æœ¨è¡¨æƒ…", id = 10714330764, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æœ€æ£’ï¼ˆGreatestï¼‰", id = 10714349037, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ‰Žå¸ƒï¼ˆThe Zabbï¼Œä¿ç•™åŽŸåï¼‰", id = 129470135909814, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è¡—åŒºæ´¾å¯¹è¾¾äººè¡¨æƒ…", id = 10713988674, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å€¾æ–œï¼ˆTiltï¼‰", id = 10714338461, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ±¤ç±³ - å¼“ç®­æ‰‹ï¼ˆArcherï¼‰", id = 13823324057, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "BLACKPINK ç»ˆæ­¢ï¼ˆShut Downï¼‰- ç¬¬äºŒéƒ¨åˆ†", id = 14901308987, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åƒµå°¸ï¼ˆZombieï¼‰", id = 10714089137, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç­éœ¸å¼€å¿ƒè·³è·ƒ - é±¿é±¼æ¸¸æˆ", id = 97611664803614, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åˆºéª¨èŠ‚æ‹ï¼ˆBone Chillin' Bopï¼‰", id = 15122972413, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å‘¨å…­èˆžè¹ˆ - äºŒåä¸€åé£žè¡Œå‘˜ä¹é˜Ÿ", id = 10714382522, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é˜¿è¿ªè¾¾æ–¯ç¤¾åŒºåŠ¨ç”»åŒ…", id = 75290611992385, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä½ å¥½è¡¨æƒ…", id = 10714359093, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä¸Šä¸‹æ‘‡æ‘† - äºŒåä¸€åé£žè¡Œå‘˜ä¹é˜Ÿ", id = 10714174918, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¸¦æˆ‘æ²‰æ²¦æ‰Žæ‹‰Â·æ‹‰å°”æ£®è¡¨æƒ…", id = 10714345459, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è¶…çº§è‹±é›„æ­æ™“è¡¨æƒ…", id = 10714355069, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ¡‘å·´èˆžæ­¥", id = 14620742793, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å·¦å³æ‘‡æ‘†", id = 10714366910, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "th-afscï¼ˆè‹±æ–‡ç¼©å†™ï¼Œä¿ç•™åŽŸåï¼‰", id = 14024645241, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ¢…Â·æ–¯è’‚èŠ¬æ–¯ - é’¢ç´æ‰‹", id = 16553163212, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æµ·ç»µå®å®æƒ³è±¡æ—¶åˆ» ðŸŒˆ", id = 18443237526, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¢éƒ¨å¥èº«æ“", id = 9830680869, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç”©å¤´ï¼ˆHead Bangingï¼Œæ‘‡æ»šåŠ¨ä½œï¼‰", id = 5915711491, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é’“é±¼", id = 10714101749, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é˜¿è¿ªè¾¾æ–¯ç¤¾åŒºåŠ¨ç”»åŒ…", id = 88763136693023, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ç¡è§‰ï¼ˆSleepï¼‰", id = 10714360343, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "èšé›†è¡¨æƒ…ï¼ˆHuddleï¼‰", id = 10714366893, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ–°èˆžè¹ˆï¼ˆnewdanceï¼‰", id = 14352353329, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¾…æœºåŠ¨ç”»ï¼ˆIdle Animationï¼‰", id = 4417977954, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è‹±ç†™å¤´éƒ¨æ—‹è½¬ - é±¿é±¼æ¸¸æˆï¼ˆYoung-heeï¼Œè§’è‰²åï¼‰", id = 112011282168475, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¨è‚¯æ˜Ÿç”·å­©æ¼«æ­¥ï¼ˆThe Weeknd Starboy Strutï¼‰", id = 71105746210464, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "KATSEYE - è§¦ç¢°ï¼ˆTouchï¼‰", id = 135876612109535, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¡¶çº§æ‘‡æ»šï¼ˆTop Rockï¼Œè¡—èˆžç±»åž‹ï¼‰", id = 10714336041, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é«˜ä¸¾æŒ¥æ‰‹", id = 10714362852, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¼€å¿ƒè¡¨æƒ…", id = 10714352626, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ›¼åŸŽé˜Ÿå€’é’©å°„é—¨ï¼ˆMan Cityï¼Œæ›¼å½»æ–¯ç‰¹åŸŽè¶³çƒä¿±ä¹éƒ¨ï¼‰", id = 13421057998, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åŸƒå°”é¡¿Â·çº¦ç¿° - ä¾ç„¶å±¹ç«‹ï¼ˆStill Standingï¼‰", id = 11444443576, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "çŒ´å­è¡¨æƒ…", id = 10714388352, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è·³è·ƒæ¬¢å‘¼è¡¨æƒ…", id = 10714376994, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "BLACKPINK - æ‹çˆ±ç—…å¥³å­©ï¼ˆLovesick Girlsï¼‰", id = 16874472321, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¢éƒ¨æµ‹è¯•è¡Œèµ°", id = 9803605108, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¤´æ™•ï¼ˆDizzyï¼‰", id = 10714066964, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "èŠ±å“¨è„šæ­¥è¡¨æƒ…", id = 10714076981, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE ç­–ç•¥ï¼ˆStrategyï¼‰", id = 97311229290836, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¥¥è¿ä¼šä¸‹æ³•ï¼ˆä½“æ“åŠ¨ä½œï¼‰", id = 18665825805, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä¸åŒæ„è¡¨æƒ…", id = 10714065135, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åŸƒå°”é¡¿Â·çº¦ç¿° - é’¢ç´è·³è·ƒ", id = 11453082181, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é˜¿è¿ªè¾¾æ–¯ç¤¾åŒºåŠ¨ç”»åŒ…", id = 82598234841035, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¦®çªÂ·ç±³å¨œ èŸ’è›‡ï¼ˆAnacondaï¼Œæ­Œæ›²åï¼‰", id = 15571450952, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "ä½ å¥½ï¼ˆAnnyeongï¼ŒéŸ©è¯­â€œì•ˆë…•â€éŸ³è¯‘ï¼‰", id = 9527883498, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "èŠ±å“¨è„šæ­¥", id = 10714076981, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "è½»æŸ”æ³¢æµªï¼ˆQuiet Wavesï¼‰", id = 10714390497, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ‘‡æ»šå‰ä»– - çš‡å®¶è¡€æ¶²ä¹é˜Ÿ", id = 10714393929, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åšç½—å…‹çš„æ„¤æ€’ï¼ˆBorock's Rageï¼‰", id = 10713999630, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¦®çªÂ·ç±³å¨œ ç °ç °ç °ï¼ˆBoom Boom Boomï¼‰", id = 15571448688, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¸•ä¸½æ–¯Â·å¸Œå°”é¡¿ - æ ‡å¿—æ€§å¥³å­©ï¼ˆIconic IT-Grrrlï¼‰", id = 15392756794, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å®è´å¥³çŽ‹ - å¼¹è·³æ—‹è½¬", id = 14352343065, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é¢éƒ¨æµ‹è¯•å¥”è·‘", id = 9801814462, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE æ”¾æˆ‘è‡ªç”± - èˆžè¹ˆäºŒï¼ˆSet Me Free - Dance 2ï¼‰", id = 12714231087, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "åšæŸåˆ©å®çŸ³è¡¨æƒ…ï¼ˆBurberry Gemï¼‰", id = 10714008655, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "BLACKPINK boom bayah åŠ¨ä½œï¼ˆBoombayahï¼Œæ­Œæ›²åï¼‰", id = 16553164850, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "èˆ’ç¼“æ°›å›´ - ä¹”æ²»Â·åŸƒå…¹æ‹‰", id = 10370353969, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¶åƒè¡¨æƒ…", id = 10714372526, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "TWICE æˆ‘æŠ“ä½ä½ äº† ç¬¬ä¸€éƒ¨åˆ†ï¼ˆI GOT YOU part 1ï¼‰", id = 16215030041, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é«˜ä¸¾åŒæ‰‹", id = 10714361543, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å”¤é†’å‘¼å« - KSIï¼ˆéŸ³ä¹äººï¼‰", id = 10714168145, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¦®çªÂ·ç±³å¨œ æ˜Ÿé™…é£žèˆ¹ï¼ˆStarshipsï¼Œæ­Œæ›²åï¼‰", id = 15571453761, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ›¼åŸŽé˜ŸèŽå­æ‘†å°¾å°„é—¨", id = 13694096724, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "é˜¿è¿ªè¾¾æ–¯ç¤¾åŒºåŠ¨ç”»åŒ…", id = 122257458498464, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æŒ‡å‘äºŒï¼ˆPoint2ï¼‰", id = 10714395441, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "æ¨Â·å¸ƒé²å¾· â€“ é«˜è¸¢ï¼ˆYUNGBLUD â€“ HIGH KICKï¼‰", id = 14022936101, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å¸•ä¸½æ–¯Â·å¸Œå°”é¡¿ - ä¸ºèŠ‚å¥è€Œæ´»ï¼ˆSliving For The Grooveï¼‰", id = 15392759696, speed = 1, timepos = 0, looped = true, freezeonend = false},
{name = "å”°å”°ï¼ˆSwishï¼Œæ‹Ÿå£°ï¼‰", id = 10714349738, speed = 1, timepos = 0, looped = true, freezeonend = false},
 














    
}

-- æ–°å¢žï¼šå¼¹å‡ºçª—å£åŠŸèƒ½
-- åˆ›å»ºå¼¹å‡ºçª—å£çš„å‡½æ•°ï¼ˆæå‰å®šä¹‰ï¼‰
local function createPopupWindow(title, windowId, backgroundColor)
	-- å¦‚æžœçª—å£å·²å­˜åœ¨ï¼Œç›´æŽ¥æ˜¾ç¤º
	if popupWindows[windowId] then
		popupWindows[windowId]["Visible"] = true
		return popupWindows[windowId]
	end
	
	-- å®šä¹‰ä¸‰ç§å¼¹çª—çš„èƒŒæ™¯é¢œè‰²
	local popupColors = {
		customPopup1 = Color3.fromRGB(70, 130, 180), -- è“è‰²
		customPopup2 = Color3.fromRGB(255, 140, 0),  -- æ©™è‰²
		customPopup3 = Color3.fromRGB(139, 69, 19)   -- å’–å•¡è‰²
	}
	
	-- æ ¹æ®windowIdé€‰æ‹©èƒŒæ™¯é¢œè‰²ï¼Œå¦‚æžœæ²¡æœ‰æŒ‡å®šåˆ™ä½¿ç”¨ä¼ å…¥çš„backgroundColoræˆ–é»˜è®¤é¢œè‰²
	local finalBackgroundColor = popupColors[windowId] or backgroundColor or Color3.fromRGB(45, 45, 45)
	
	-- å¼¹çª—çŠ¶æ€å˜é‡
	local isPopupMinimized = false
	local popupMaxSize = UDim2.new(0, 320, 0, 240) -- ä¸Žä¸»UIçª—å£ç›¸åŒå¤§å°
	local popupMinSize = UDim2.new(0, 30, 0, 30) -- ä¸Žä¸»UIçª—å£æœ€å°åŒ–å¤§å°ç›¸åŒ
	
	-- åˆ›å»ºæ–°çš„å¼¹å‡ºçª—å£
	local popupFrame = Instance.new("Frame")
	popupFrame["Name"] = "PopupWindow" .. windowId
	popupFrame["Size"] = popupMaxSize -- å¼¹çª—å°ºå¯¸
	popupFrame["Position"] = UDim2.new(0.5, -160, 0.5, -120) -- å±…ä¸­æ˜¾ç¤ºï¼ˆ320/2=160, 240/2=120ï¼‰
	popupFrame["BackgroundColor3"] = finalBackgroundColor -- æ¢å¤ä½¿ç”¨åŒºåˆ†é¢œè‰²
	popupFrame["BorderSizePixel"] = 0
	popupFrame["BackgroundTransparency"] = 0.3 -- æ¢å¤åŽŸæœ‰é€æ˜Žåº¦ä»¥æ˜¾ç¤ºé¢œè‰²
	popupFrame["Parent"] = gui
	popupFrame["Visible"] = true
	
	-- å¼¹çª—åœ†è§’
	local popupCorner = Instance.new("UICorner")
	popupCorner.CornerRadius = UDim.new(0, 12)
	popupCorner.Parent = popupFrame
	
	-- å¼¹çª—æ ‡é¢˜æ 
	local popupTitleBar = Instance.new("Frame")
	popupTitleBar["Size"] = UDim2.new(1, 0, 0, 35)
	popupTitleBar["Position"] = UDim2.new(0, 0, 0, 0)
	popupTitleBar["BackgroundColor3"] = finalBackgroundColor -- æ¢å¤ä½¿ç”¨åŒºåˆ†é¢œè‰²
	popupTitleBar["BackgroundTransparency"] = 0.3 -- æ¢å¤åŽŸæœ‰é€æ˜Žåº¦ä»¥æ˜¾ç¤ºé¢œè‰²
	popupTitleBar["BorderSizePixel"] = 0
	popupTitleBar["Parent"] = popupFrame
	
	-- æ ‡é¢˜æ åœ†è§’
	local titleBarCorner = Instance.new("UICorner")
	titleBarCorner.CornerRadius = UDim.new(0, 12)
	titleBarCorner.Parent = popupTitleBar
	
	-- å¼¹çª—æ ‡é¢˜
	local popupTitle = Instance.new("TextLabel")
	popupTitle["Size"] = UDim2.new(1, -120, 1, 0)
	popupTitle["Position"] = UDim2.new(0, 10, 0, 0)
	popupTitle["BackgroundTransparency"] = 1
	popupTitle["Text"] = title
	popupTitle["TextColor3"] = Color3.new(1, 1, 1)
	popupTitle["TextSize"] = 14
	popupTitle["Font"] = Enum.Font.RobotoMono
	popupTitle["TextXAlignment"] = Enum.TextXAlignment.Left
	popupTitle["Parent"] = popupTitleBar
	

	-- åœæ­¢æŒ‰é’®
	local stopBtn = Instance.new("TextButton")
	stopBtn["Size"] = UDim2.new(0, 25, 0, 25)
	stopBtn["Position"] = UDim2.new(1, -55, 0, 5) -- åœ¨å…³é—­æŒ‰é’®å·¦è¾¹
	stopBtn["BackgroundColor3"] = Color3.fromRGB(220, 20, 60) -- çº¢è‰²åœæ­¢æŒ‰é’®
	stopBtn["Text"] = "â– "
	stopBtn["TextColor3"] = Color3.new(1, 1, 1)
	stopBtn["TextSize"] = 12
	stopBtn["Font"] = Enum.Font.RobotoMono
	stopBtn["BorderSizePixel"] = 0
	stopBtn["BackgroundTransparency"] = 0.3
	stopBtn["Parent"] = popupTitleBar
	
	local stopBtnCorner = Instance.new("UICorner")
	stopBtnCorner.CornerRadius = UDim.new(0, 6)
	stopBtnCorner.Parent = stopBtn
	
	-- åœæ­¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆåªåœæ­¢å½“å‰å¼¹çª—ç›¸å…³çš„åŠ¨ç”»ï¼‰
	stopBtn["MouseButton1Click"]:Connect(function()
		clickSound()
		-- åœæ­¢å½“å‰é™æ€åŠ¨ä½œ
		if currentStaticTrack then
			if currentStaticTrack.IsPlaying then
				currentStaticTrack:Stop()
			end
			currentStaticTrack:Destroy()
			currentStaticTrack = nil
		end
		
		-- æ ¹æ®å¼¹çª—ç±»åž‹åœæ­¢ç›¸åº”åŠ¨ç”»
		if windowId == "customPopup1" then
			-- ç¬¬ä¸€ä¸ªå¼¹çª—ï¼šåœæ­¢èµ°è·¯åŠ¨ç”»
			if walkTrack then
				if walkTrack.IsPlaying then
					walkTrack:Stop()
				end
				walkTrack:Destroy()
				walkTrack = nil
			end
		elseif windowId == "customPopup2" then
			-- ç¬¬äºŒä¸ªå¼¹çª—ï¼šåœæ­¢å¾…æœºåŠ¨ç”»
			if idleTrack then
				if idleTrack.IsPlaying then
					idleTrack:Stop()
				end
				idleTrack:Destroy()
				idleTrack = nil
				isIdleActive = false
			end
		elseif windowId == "customPopup3" then
			-- ç¬¬ä¸‰ä¸ªå¼¹çª—ï¼šåœæ­¢è·³è·ƒåŠ¨ç”»
			if jumpTrack then
				if jumpTrack.IsPlaying then
					jumpTrack:Stop()
				end
				jumpTrack:Destroy()
				jumpTrack = nil
				isJumpActive = false
			end
		end
	end)
	
	-- å…³é—­æŒ‰é’®
	local closeBtn = Instance.new("TextButton")
	closeBtn["Size"] = UDim2.new(0, 25, 0, 25)
	closeBtn["Position"] = UDim2.new(1, -30, 0, 5) -- ç¨å¾®å¾€å·¦ç§»åŠ¨
	closeBtn["BackgroundColor3"] = Color3.fromRGB(135, 206, 235)
	closeBtn["Text"] = "X"
	closeBtn["TextColor3"] = Color3.new(1, 1, 1)
	closeBtn["TextSize"] = 14
	closeBtn["Font"] = Enum.Font.RobotoMono
	closeBtn["BorderSizePixel"] = 0
	closeBtn["BackgroundTransparency"] = 0.3
	closeBtn["Parent"] = popupTitleBar
	
	local closeBtnCorner = Instance.new("UICorner")
	closeBtnCorner.CornerRadius = UDim.new(0, 6)
	closeBtnCorner.Parent = closeBtn
	
	-- å†…å®¹åŒºåŸŸ
	local contentArea = Instance.new("Frame")
	contentArea["Size"] = UDim2.new(1, 0, 1, -35)
	contentArea["Position"] = UDim2.new(0, 0, 0, 35)
	contentArea["BackgroundTransparency"] = 1
	contentArea["Parent"] = popupFrame
	
	-- åŠ¨ç”»æŒ‰é’®åŒºåŸŸï¼ˆç§»é™¤å·¥å…·æ ï¼Œç›´æŽ¥ä½¿ç”¨æ•´ä¸ªå†…å®¹åŒºåŸŸï¼‰
	local buttonArea = Instance.new("Frame")
	buttonArea["Size"] = UDim2.new(1, -10, 1, -10)
	buttonArea["Position"] = UDim2.new(0, 5, 0, 5)
	buttonArea["BackgroundColor3"] = Color3.fromRGB(40, 40, 40) -- æ¢å¤åŽŸæœ‰é¢œè‰²
	buttonArea["BorderSizePixel"] = 0
	buttonArea["BackgroundTransparency"] = 0.5 -- æ¢å¤åŽŸæœ‰é€æ˜Žåº¦
	buttonArea["Parent"] = contentArea
	
	local buttonAreaCorner = Instance.new("UICorner")
	buttonAreaCorner.CornerRadius = UDim.new(0, 8)
	buttonAreaCorner.Parent = buttonArea
	
	-- æ»šåŠ¨æ¡†æž¶
	local animScrollFrame = Instance.new("ScrollingFrame")
	animScrollFrame["Size"] = UDim2.new(1, -10, 1, -10)
	animScrollFrame["Position"] = UDim2.new(0, 5, 0, 5)
	animScrollFrame["CanvasSize"] = UDim2.new(0, 0, 0, 0)
	animScrollFrame["ScrollBarThickness"] = 0 -- éšè—æ»šåŠ¨æ¡ï¼Œè§£å†³å³è¾¹ç©ºç™½é—®é¢˜
	animScrollFrame["BorderSizePixel"] = 0
	animScrollFrame["BackgroundTransparency"] = 1
	animScrollFrame["Parent"] = buttonArea
	
	-- åŠ¨ç”»æŒ‰é’®å®¹å™¨
	local animButtonContainer = Instance.new("Frame")
	animButtonContainer["Size"] = UDim2.new(1, 0, 1, 0)
	animButtonContainer["BackgroundTransparency"] = 1
	animButtonContainer["Parent"] = animScrollFrame
	
	-- ç½‘æ ¼å¸ƒå±€ï¼ˆè°ƒæ•´ä¸ºå››æŽ’å¸ƒå±€ï¼‰
	local animGridLayout = Instance.new("UIGridLayout")
	animGridLayout["CellPadding"] = UDim2.new(0, 3, 0, 3) -- å¢žåŠ é—´è·ä»¥å‡å°‘æ‹¥æŒ¤æ„Ÿ
	animGridLayout["CellSize"] = UDim2.new(0, 65, 0, 40) -- ç¨å¾®å¢žå¤§æŒ‰é’®å°ºå¯¸ï¼Œæå‡è§†è§‰æ•ˆæžœ
	animGridLayout["SortOrder"] = Enum.SortOrder.LayoutOrder
	animGridLayout["FillDirection"] = Enum.FillDirection.Horizontal -- æ°´å¹³å¡«å……
	animGridLayout["HorizontalAlignment"] = Enum.HorizontalAlignment.Left -- å·¦å¯¹é½
	animGridLayout["VerticalAlignment"] = Enum.VerticalAlignment.Top -- é¡¶éƒ¨å¯¹é½
	animGridLayout["Parent"] = animButtonContainer
	
	-- åˆ›å»ºå¼¹çª—åŠ¨ç”»æŒ‰é’®çš„å‡½æ•°ï¼ˆç®€åŒ–ç‰ˆï¼Œç§»é™¤ç¼–è¾‘åˆ é™¤åŠŸèƒ½ï¼‰
	local function createPopupAnimButton(animData, layoutOrder)
		local animButton = Instance.new("ImageButton")
		animButton["Size"] = UDim2.new(1, 0, 1, 0)
		animButton["BackgroundColor3"] = Color3.fromRGB(60, 60, 60)
		animButton["BorderSizePixel"] = 0
		animButton["BackgroundTransparency"] = 0.2 -- é™ä½Žé€æ˜Žåº¦ä»¥æ˜¾ç¤ºæ¸å˜æ•ˆæžœ
		animButton["LayoutOrder"] = layoutOrder
		animButton["Parent"] = animButtonContainer
		
		-- æ·»åŠ ä¸ƒå½©æ¸å˜èƒŒæ™¯æ•ˆæžœï¼ˆä¸Žä¸»UIæŒ‰é’®ä¸€è‡´ï¼‰
		local colorfulGradient = Instance.new("UIGradient")
		colorfulGradient.Color = ColorSequence.new{
			ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 128)),   -- ç²‰çº¢è‰²
			ColorSequenceKeypoint.new(0.16, Color3.fromRGB(255, 128, 0)), -- æ©™è‰²
			ColorSequenceKeypoint.new(0.33, Color3.fromRGB(255, 255, 0)), -- é»„è‰²
			ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 0)),    -- ç»¿è‰²
			ColorSequenceKeypoint.new(0.66, Color3.fromRGB(0, 255, 255)), -- é’è‰²
			ColorSequenceKeypoint.new(0.83, Color3.fromRGB(0, 128, 255)), -- è“è‰²
			ColorSequenceKeypoint.new(1, Color3.fromRGB(128, 0, 255))     -- ç´«è‰²
		}
		colorfulGradient.Rotation = math.random(0, 360) -- éšæœºæ—‹è½¬è§’åº¦
		colorfulGradient.Parent = animButton
		
		-- è®¾ç½®åŠ¨ç”»å›¾ç‰‡
		if animData.customImage and animData.customImage ~= "" then
			animButton["Image"] = animData.customImage
		elseif animData.id and animData.id ~= 0 then
			animButton["Image"] = "rbxthumb://type=Asset&id=" .. animData.id .. "&w=150&h=150"
		else
			animButton["Image"] = "rbxthumb://type=Asset&id=101622803562033&w=150&h=150"
		end
		animButton["ImageTransparency"] = 0.1
		
		local animBtnCorner = Instance.new("UICorner")
		animBtnCorner.CornerRadius = UDim.new(0, 8)
		animBtnCorner.Parent = animButton
		
		-- æ–‡æœ¬æ ‡ç­¾
		local animLabel = Instance.new("TextLabel")
		animLabel["Size"] = UDim2.new(1, 0, 0, 18)
		animLabel["Position"] = UDim2.new(0, 0, 1, -18)
		animLabel["BackgroundColor3"] = Color3.fromRGB(45, 45, 45) -- æ¢å¤åŽŸæœ‰é¢œè‰²
		animLabel["BackgroundTransparency"] = 0.3 -- æ¢å¤åŽŸæœ‰é€æ˜Žåº¦
		animLabel["Text"] = animData.name
		animLabel["TextColor3"] = Color3.new(1, 1, 1)
		animLabel["TextSize"] = 10
		animLabel["Font"] = Enum.Font.RobotoMono
		animLabel["TextWrapped"] = true
		animLabel["BorderSizePixel"] = 0
		animLabel["Parent"] = animButton
		
		local animLabelCorner = Instance.new("UICorner")
		animLabelCorner.CornerRadius = UDim.new(0, 6)
		animLabelCorner.Parent = animLabel
		
		-- åˆ›å»ºæ‰§è¡Œæç¤ºå‡½æ•°
		local function showExecutionFeedback(animType)
			-- æŒ‰é’®é«˜äº®æ•ˆæžœ
			local originalTransparency = animButton.BackgroundTransparency
			animButton.BackgroundTransparency = 0
			
			-- åˆ›å»ºæ‰§è¡Œæç¤ºæ ‡ç­¾
			local feedbackLabel = Instance.new("TextLabel")
			feedbackLabel["Size"] = UDim2.new(1, 0, 0, 20)
			feedbackLabel["Position"] = UDim2.new(0, 0, 0.5, -10)
			feedbackLabel["BackgroundColor3"] = Color3.fromRGB(0, 255, 0)
			feedbackLabel["BackgroundTransparency"] = 0.2
			feedbackLabel["Text"] = animType .. "å·²æ‰§è¡Œ"
			feedbackLabel["TextColor3"] = Color3.new(1, 1, 1)
			feedbackLabel["TextSize"] = 12
			feedbackLabel["Font"] = Enum.Font.RobotoMono
			feedbackLabel["TextStrokeTransparency"] = 0
			feedbackLabel["TextStrokeColor3"] = Color3.new(0, 0, 0)
			feedbackLabel["BorderSizePixel"] = 0
			feedbackLabel["Parent"] = animButton
			
			local feedbackCorner = Instance.new("UICorner")
			feedbackCorner.CornerRadius = UDim.new(0, 6)
			feedbackCorner.Parent = feedbackLabel
			
			-- æ·¡å‡ºåŠ¨ç”»æ•ˆæžœ
			local tweenService = game:GetService("TweenService")
			local fadeInfo = TweenInfo.new(2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
			
			-- æ¢å¤æŒ‰é’®é€æ˜Žåº¦
			wait(0.1)
			animButton.BackgroundTransparency = originalTransparency
			
			-- æç¤ºæ ‡ç­¾æ·¡å‡º
			local fadeTween = tweenService:Create(feedbackLabel, fadeInfo, {
				BackgroundTransparency = 1,
				TextTransparency = 1,
				TextStrokeTransparency = 1
			})
			fadeTween:Play()
			
			-- æ¸…ç†æç¤ºæ ‡ç­¾
			fadeTween.Completed:Connect(function()
				feedbackLabel:Destroy()
			end)
		end

		-- åŠ¨ç”»æŒ‰é’®ç‚¹å‡»äº‹ä»¶
		animButton["MouseButton1Click"]:Connect(function()
			clickSound()
			-- åˆ¤æ–­æ˜¯å¦ä¸ºèµ°è·¯åŠ¨ç”»
			if animData.isWalk then
				-- æ˜¾ç¤ºèµ°è·¯åŠ¨ç”»æ‰§è¡Œæç¤º
				showExecutionFeedback("èµ°è·¯åŠ¨ç”»")
				-- èµ°è·¯åŠ¨ç”»é€»è¾‘ï¼šæ›¿æ¢å½“å‰èµ°è·¯åŠ¨ç”»
				if localplayer.Character then
					local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
					if humanoid then
						-- åœæ­¢å¹¶é”€æ¯å½“å‰èµ°è·¯åŠ¨ç”»
						if walkTrack then
							walkTrack:Stop()
							walkTrack:Destroy()
							walkTrack = nil
						end
						
						-- å¦‚æžœé€‰æ‹©"æ­£å¸¸èµ°è·¯"ï¼ˆid=0ï¼‰ï¼Œæ¢å¤é»˜è®¤èµ°è·¯
						if animData.id == 0 then
							-- é‡æ–°åˆå§‹åŒ–é»˜è®¤èµ°è·¯åŠ¨ç”»
							local walkAnim = Instance.new("Animation")
							walkAnim.AnimationId = "rbxassetid://1070017263" -- é»˜è®¤èµ°è·¯
							walkTrack = humanoid:LoadAnimation(walkAnim)
							walkTrack.Looped = true
							walkTrack:AdjustWeight(3) -- èµ°è·¯æƒé‡é«˜äºŽé™æ€åŠ¨ä½œ
						else
							-- åŠ è½½è‡ªå®šä¹‰èµ°è·¯åŠ¨ç”»
							local walkAnim = Instance.new("Animation")
							walkAnim.AnimationId = "rbxassetid://" .. animData.id
							walkTrack = humanoid:LoadAnimation(walkAnim)
							walkTrack.Looped = true
							walkTrack:AdjustWeight(3) -- èµ°è·¯æƒé‡é«˜äºŽé™æ€åŠ¨ä½œ
						end
					end
				end
			else
				-- è·³è·ƒåŠ¨ç”»é€»è¾‘ï¼šè®¾ç½®è·³è·ƒåŠ¨ç”»
				if animData.isJump then
					-- æ˜¾ç¤ºè·³è·ƒåŠ¨ç”»æ‰§è¡Œæç¤º
					showExecutionFeedback("è·³è·ƒåŠ¨ç”»")
					if localplayer.Character then
						local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
						if humanoid and animData.id and animData.id ~= 0 then
							-- åœæ­¢å½“å‰è·³è·ƒåŠ¨ç”»
							if jumpTrack then
								jumpTrack:Stop()
								jumpTrack:Destroy()
								jumpTrack = nil
							end
							
							-- åŠ è½½æ–°çš„è·³è·ƒåŠ¨ç”»
							local animation = Instance.new("Animation")
							animation.AnimationId = "rbxassetid://" .. animData.id
							jumpTrack = humanoid:LoadAnimation(animation)
							jumpTrack.Looped = true
							jumpTrack:AdjustWeight(5) -- è·³è·ƒåŠ¨ç”»æƒé‡æœ€é«˜
							
							-- é‡ç½®è·³è·ƒçŠ¶æ€
							isJumpActive = false
						end
					end
				-- å¾…æœºåŠ¨ç”»é€»è¾‘ï¼šè®¾ç½®å¾…æœºåŠ¨ç”»
				elseif animData.isIdle then
					-- æ˜¾ç¤ºå¾…æœºåŠ¨ç”»æ‰§è¡Œæç¤º
					showExecutionFeedback("å¾…æœºåŠ¨ç”»")
					if localplayer.Character then
						local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
						if humanoid and animData.id and animData.id ~= 0 then
							-- åœæ­¢å½“å‰å¾…æœºåŠ¨ç”»
							if idleTrack then
								idleTrack:Stop()
								idleTrack:Destroy()
								idleTrack = nil
							end
							
							-- åŠ è½½æ–°çš„å¾…æœºåŠ¨ç”»
							local animation = Instance.new("Animation")
							animation.AnimationId = "rbxassetid://" .. animData.id
							idleTrack = humanoid:LoadAnimation(animation)
							idleTrack.Looped = true
							idleTrack:AdjustWeight(4) -- å¾…æœºåŠ¨ç”»æƒé‡æœ€é«˜
							
							-- é‡ç½®å¾…æœºçŠ¶æ€
							isIdleActive = false
							lastMovementTime = tick()
						end
					end
				else
					-- æ˜¾ç¤ºæ™®é€šåŠ¨ç”»æ‰§è¡Œæç¤º
					showExecutionFeedback("åŠ¨ç”»")
					-- æ™®é€šåŠ¨ä½œåŠ¨ç”»é€»è¾‘ï¼šæ’­æ”¾é™æ€åŠ¨ä½œ
					if localplayer.Character then
						local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
						if humanoid and animData.id and animData.id ~= 0 then
							-- åœæ­¢å½“å‰é™æ€åŠ¨ç”»
							if currentStaticTrack then
								currentStaticTrack:Stop()
								currentStaticTrack = nil
							end
							
							local animation = Instance.new("Animation")
							animation.AnimationId = "rbxassetid://" .. animData.id
							currentStaticTrack = humanoid:LoadAnimation(animation)
							currentStaticTrack:Play()
							currentStaticTrack.Looped = animData.looped or true
							currentStaticTrack.TimePosition = animData.timepos or 0
							currentStaticTrack:AdjustSpeed(animData.speed or 1)
							currentStaticTrack:AdjustWeight(1) -- é™æ€åŠ¨ä½œæƒé‡ä½ŽäºŽèµ°è·¯
						end
					end
				end
			end
		end)
		
		return animButton
	end
	
	-- ä¸ºä¸åŒå¼¹çª—å®šä¹‰ä¸åŒçš„åŠ¨ç”»æŒ‰é’®
	local popupAnimations = {
		customPopup1 = { -- è“è‰²å¼¹çª— - èµ°è·¯åŠ¨ç”» --è·³è·ƒåŠ¨ç”»åŒ…  --èµ°è·¯åŠ¨ç”»åŒ… --å¾…æœºåŠ¨ç”»åŒ…
			{name = "æ¬ æèµ°è·¯", id = 1070017263, customImage = "rbxthumb://type=Asset&id=16658431154&w=150&h=150", isWalk = true},
           {name = "å¾®è·³èµ°è·¯", id = 507777826, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å¤–å…«èµ°è·¯", id = 1070001516, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "è¸®è„šèµ°è·¯", id = 1212980338, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true}, -- æ¢å¤é»˜è®¤èµ°è·¯
{name = "å°‘å¥³èµ°è·¯", id = 1212980348, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "é¸¡å“¥èµ°è·¯1", id = 1132510133, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "é¸¡å“¥èµ°è·¯2", id = 1132494274, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å†…å…«èµ°è·¯", id = 941028902, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å°è·³èµ°è·¯", id = 941015281, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "æ‘‡æ™ƒèµ°è·¯", id = 1014421541, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å˜Žå­èµ°è·¯", id = 1014401683, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "è›‡è…°èµ°è·¯", id = 4708193840, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "ä¿¯å†²èµ°è·¯", id = 4708192705, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = " å¹³æ»‘ç§»åŠ¨", id = 10921232093, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "åƒµç›´èµ°è·¯1", id = 10921240218, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "åƒµç›´èµ°è·¯2", id = 10921244891 , customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "æ­£å¸¸èµ°è·¯", id = 19534419048, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "è¹¦è·³èµ°è·¯", id = 72301599441680, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "è¶…æ”èµ°è·¯", id =  92072849924640, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å°ç¢Žæ­¥1", id = 10921261968, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å°ç¢Žæ­¥2", id = 10921269718, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "è·³è·³èµ°è·¯", id = 10921276116, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "æ·‘å¥³èµ°è·¯", id = 10921283326, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å´´è„šèµ°è·¯1", id = 10921250460, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å´´è„šèµ°è·¯2", id = 10921255446, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "ç›²äººèµ°è·¯1", id = 10921306285, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "ç›²äººèµ°è·¯2", id = 10921312010, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å§å°±æ˜¯å¥³çŽ‹", id = 16738337225, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "äº¤å‰èµ°è·¯", id = 16738340646, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "è·¨æ­¥å¥”è·‘", id = 18537384940, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å¼€å¿ƒèµ°è·¯", id = 18537392113, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "ä»°å¤´èµ°è·¯", id = 616163682, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "æ’‡è„šèµ°è·¯", id = 10921355261, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "æ’‡è„šèµ°è·¯", id = 10921148209, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "æ’‡è„šèµ°è·¯", id = 10921152678, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "ç”·äººå©†èµ°è·¯1", id = 81024476153754, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "ç”·äººå©†èµ°è·¯2", id = 109168724482748, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å°å¤–å…«èµ°è·¯1", id = 10921076136, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å°å¤–å…«èµ°è·¯2", id = 10921082452, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "å°æ£‰è¢„èµ°è·¯", id = 10921057244 , customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "æ‘‡æ‘†èµ°è·¯", id = 10980888364, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "é¹…é¹…é¹…èµ°è·¯1", id = 10921104374, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "é¹…é¹…é¹…èµ°è·¯2", id = 10921157929 , customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "è¶…å¯çˆ±èµ°è·¯", id = 18747070484, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "è¶…å¯çˆ±èµ°è·¯", id = 1132489853, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true},
{name = "æ‹å­èµ°è·¯", id = 1150967949, customImage = "rbxthumb://type=Asset&id=13317812674&w=150&h=150", isWalk = true}
		},
		customPopup2 = { -- æ©™è‰²å¼¹çª— - å¾…æœºåŠ¨ç”»
			{name = "æ‘‡æ™ƒåå§¿", id = 130995344283026, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "æ¼‚æµ®è¶´å§¿", id = 77840765435893, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "æ‘‡å¤´æ™ƒè„‘", id = 135611169366768, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "æ‚¬ç©ºå†¥æƒ³", id = 86872878957632, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "æ€è€ƒåŠ¨ä½œ", id = 127088545449493, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "è¶…çº§å¼€å¿ƒ", id = 10714352626, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å¾®ç¬‘æŒ¥æ‰‹", id = 1069987858, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å¤´å·¦å³å¾®è§‚", id = 1150842221, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å·¦å³å·çœ‹", id = 1132477671, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "åŒæ‰‹åˆå‡»", id = 941013098, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å·¦å³è§‚çœ‹", id = 1014398616, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "åŒæ‰‹å¾®æ‰˜", id = 4708192150, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "åŒè„šå¹¶æ‹¢", id = 10921230744, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å¾®ç¬‘æ‘‡æ™ƒ", id = 118832222982049, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å¾®ç¬‘çœ¨çœ¼1", id = 10921259953, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å¾®ç¬‘çœ¨çœ¼2", id = 10921272275, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å¾®ç¬‘çœ¨çœ¼3", id = 10921248039, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "ä»°å¤´è§‚çœ‹", id = 10921344533, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "æ‰‹åŽæ•¬ç¤¼", id = 133806214992291, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å¤¸å¼ å¾®ç¬‘", id = 18747067405, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "å‡åå§¿åŠ¿", id = 10921155160, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "æœºå™¨äºº", id = 10714392151, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "ç©ºæ°”å‰ä»–", id = 10713959108, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "ç»å…¸çŒ´å­", id = 10714388352, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true},
{name = "èŽ²èŠ±åå§¿", id = 12507085924, customImage = "rbxthumb://type=Asset&id=13764999189&w=150&h=150", isIdle = true}



		},
		customPopup3 = { -- å’–å•¡è‰²å¼¹çª— - è·³è·ƒåŠ¨ç”»
			{name = "å¾®ç¬‘è·³è·ƒ", id = 1132489853, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "å¾®ç¬‘æ»‘ç¿”", id = 1132469004, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "æŠ±è‚šå¾®ç¬‘", id = 1149612882, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "é£žæœºåŠ¨ä½œ", id = 82135680487389, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "æ¼‚æµ®è¶´å§¿", id = 77840765435893, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "1 è·³è·ƒåŠ¨ç”»", id = 1069984524, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "2 è·³è·ƒåŠ¨ç”»", id = 1212954642, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "3 è·³è·ƒåŠ¨ç”»", id = 1150944216, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "4 è·³è·ƒåŠ¨ç”»", id = 1132489853, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "5 è·³è·ƒåŠ¨ç”»", id = 941008832, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "6 è·³è·ƒåŠ¨ç”»", id = 1014394726, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "7 è·³è·ƒåŠ¨ç”»", id = 4708188025, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "8 è·³è·ƒåŠ¨ç”»", id = 10921242013, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "9 è·³è·ƒåŠ¨ç”»", id = 104325245285198, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "10 è·³è·ƒåŠ¨ç”»", id = 10921263860, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "11 è·³è·ƒåŠ¨ç”»", id = 10921279832, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "12 è·³è·ƒåŠ¨ç”»", id = 10921252123, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "13 è·³è·ƒåŠ¨ç”»", id = 10921308158, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "14 è·³è·ƒåŠ¨ç”»", id = 16738336650, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "15 è·³è·ƒåŠ¨ç”»", id = 18537380791, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "16 è·³è·ƒåŠ¨ç”»", id = 10921351278, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "17 è·³è·ƒåŠ¨ç”»", id = 10921149743, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "18 è·³è·ƒåŠ¨ç”»", id = 116936326516985, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "19 è·³è·ƒåŠ¨ç”»", id = 10921078135, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "20 è·³è·ƒåŠ¨ç”»", id = 10921062673, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "21 è·³è·ƒåŠ¨ç”»", id = 10921107367, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "22 è·³è·ƒåŠ¨ç”»", id = 18747069148, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "23 è·³è·ƒåŠ¨ç”»", id = 10921322186, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "24 è·³è·ƒåŠ¨ç”»", id = 10921160088, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "25 è·³è·ƒåŠ¨ç”»", id = 10921294559, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "26 è·³è·ƒåŠ¨ç”»", id = 10921137402, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "27 è·³è·ƒåŠ¨ç”»", id = 119846112151352, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "28 è·³è·ƒåŠ¨ç”»", id = 1083218792, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "29 è·³è·ƒåŠ¨ç”»", id = 10921123517, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "30 è·³è·ƒåŠ¨ç”»", id = 10921042494, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "31 è·³è·ƒåŠ¨ç”»", id = 750782230, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "32 æ¼‚æµ®è¶´å§¿", id = 77840765435893, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true},{name = "ç©ºä¸­ç”»åœˆ", id = 1212900995, customImage = "rbxthumb://type=Asset&id=6567073136&w=150&h=150", isJump = true}

			
		}
	}
	
	-- èŽ·å–å½“å‰å¼¹çª—çš„åŠ¨ç”»æ•°æ®ï¼Œå¦‚æžœæ²¡æœ‰åˆ™ä½¿ç”¨é»˜è®¤æ•°æ®
	local currentAnimations = popupAnimations[windowId] or {
		{name = "åŠ¨ç”»1", id = 507766388, customImage = "rbxassetid://507766388"},
		{name = "åŠ¨ç”»2", id = 507766666, customImage = "rbxassetid://507766666"},
		{name = "åŠ¨ç”»3", id = 507766951, customImage = "rbxassetid://507766951"},
		{name = "åŠ¨ç”»4", id = 507777268, customImage = "rbxassetid://507777268"},
		{name = "åŠ¨ç”»5", id = 507777451, customImage = "rbxassetid://507777451"},
		{name = "åŠ¨ç”»6", id = 507777623, customImage = "rbxassetid://507777623"}
	}
	
	-- åˆ›å»ºå½“å‰å¼¹çª—çš„æŒ‰é’®
	for i, animData in ipairs(currentAnimations) do
		createPopupAnimButton(animData, i)
	end
	
	-- å…³é—­æŒ‰é’®äº‹ä»¶
	closeBtn["MouseButton1Click"]:Connect(function()
		clickSound()
		popupFrame:Destroy()
		popupWindows[windowId] = nil
	end)
	
	-- æ‹–æ‹½åŠŸèƒ½
	local popupDragging = false
	local popupDragStart = nil
	local popupStartPos = nil
	
	popupTitleBar["InputBegan"]:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			popupDragging = true
			popupDragStart = input.Position
			popupStartPos = popupFrame.Position
			
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					popupDragging = false
				end
			end)
		end
	end)
	
	userInputService.InputChanged:Connect(function(input)
		if popupDragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
			local delta = input.Position - popupDragStart
			popupFrame.Position = UDim2.new(
				popupStartPos.X.Scale, popupStartPos.X.Offset + delta.X,
				popupStartPos.Y.Scale, popupStartPos.Y.Offset + delta.Y
			)
		end
	end)
	
	-- è‡ªé€‚åº”æ»šåŠ¨æ¡†å¤§å°
	animGridLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		animScrollFrame["CanvasSize"] = UDim2.new(0, 0, 0, animGridLayout["AbsoluteContentSize"]["Y"])
	end)
	
	-- å­˜å‚¨çª—å£å¼•ç”¨
	popupWindows[windowId] = popupFrame
	
	return popupFrame
end

-- 5. åŠ¨ä½œæŒ‰é’®åˆ›å»ºå‡½æ•°ï¼šä»…æœ€å¤§åŒ–ç”Ÿæ•ˆ
local function createAnimButton(data)
	-- åˆ›å»ºImageButtonè€Œä¸æ˜¯TextButtonï¼Œä»¥æ”¯æŒå›¾ç‰‡æ˜¾ç¤º
	local button = Instance.new("ImageButton")
	button["Name"] = data.name -- æŒ‰é’®åç§°ï¼ˆä¸ŽåŠ¨ç”»åç§°ä¸€è‡´ï¼‰
	button["Size"] = UDim2.new(1, 0, 1, 0) -- å°ºå¯¸ä¸Žå¸ƒå±€å•å…ƒæ ¼ä¸€è‡´
	
	-- åˆ›å»ºäº”å½©æ–‘æ–“çš„èƒŒæ™¯æ¸å˜æ•ˆæžœ
	local colorfulGradient = Instance.new("UIGradient")
	colorfulGradient.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 128)),   -- ç²‰çº¢è‰²
		ColorSequenceKeypoint.new(0.16, Color3.fromRGB(255, 128, 0)), -- æ©™è‰²
		ColorSequenceKeypoint.new(0.33, Color3.fromRGB(255, 255, 0)), -- é»„è‰²
		ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 0)),    -- ç»¿è‰²
		ColorSequenceKeypoint.new(0.66, Color3.fromRGB(0, 255, 255)), -- é’è‰²
		ColorSequenceKeypoint.new(0.83, Color3.fromRGB(0, 128, 255)), -- è“è‰²
		ColorSequenceKeypoint.new(1, Color3.fromRGB(128, 0, 255))     -- ç´«è‰²
	}
	colorfulGradient.Rotation = math.random(0, 360) -- éšæœºæ—‹è½¬è§’åº¦
	colorfulGradient.Parent = button
	
	-- æ ¹æ®åŠ¨ç”»åŒ…ç±»åž‹è®¾ç½®ä¸åŒçš„èƒŒæ™¯é¢œè‰²ï¼Œè·Ÿéšå³ä¸Šè§’æŒ‰é’®é¢œè‰²
	local backgroundColor = Color3.fromRGB(20, 45, 90) -- é»˜è®¤é¢œè‰²
	if data.name == "èµ°è·¯åŠ¨ç”»åŒ…" then
		backgroundColor = INTERACTIVE_COLORS.button1 -- çº¢è‰²ç³»
	elseif data.name == "å¾…æœºåŠ¨ç”»åŒ…" then
		backgroundColor = INTERACTIVE_COLORS.button2 -- ç»¿è‰²ç³»
	elseif data.name == "è·³è·ƒåŠ¨ç”»åŒ…" then
		backgroundColor = INTERACTIVE_COLORS.button3 -- è“è‰²ç³»
	end
	
	button["BackgroundColor3"] = backgroundColor
	button["BorderSizePixel"] = 0 -- æ— è¾¹æ¡†
	button["BackgroundTransparency"] = 0.2 -- é€æ˜Žåº¦ï¼š80%å¯è§ï¼ˆé™ä½Žé€æ˜Žåº¦ä»¥æ˜¾ç¤ºæ¸å˜æ•ˆæžœï¼‰
	button["Parent"] = buttonContainer -- çˆ¶çº§è®¾ä¸ºæŒ‰é’®å®¹å™¨
	
	-- è®¾ç½®æŒ‰é’®å±žæ€§ï¼Œç”¨äºŽæœç´¢åŠŸèƒ½
	button:SetAttribute("name", data.name)
	button:SetAttribute("id", data.id)
	button:SetAttribute("number", 1) -- é»˜è®¤åºåˆ—å·ä¸º1
	
	-- æ·»åŠ åŠ¨ç”»å›¾ç‰‡ï¼ˆæ”¯æŒè‡ªå®šä¹‰å›¾ç‰‡æˆ–é»˜è®¤å›¾ç‰‡ï¼‰
	if data.isCustom and data.customImage then
		button["Image"] = data.customImage -- ä½¿ç”¨è‡ªå®šä¹‰å›¾ç‰‡
	else
		button["Image"] = "rbxthumb://type=Asset&id=101622803562033&w=150&h=150" -- é»˜è®¤å›¾ç‰‡
	end
	button["ImageTransparency"] = 0.1 -- å›¾ç‰‡å®Œå…¨ä¸é€æ˜Ž
	button["ScaleType"] = Enum.ScaleType.Fit -- è®¾ç½®å›¾ç‰‡ç¼©æ”¾ç±»åž‹ä¸ºé€‚åº”ï¼Œé˜²æ­¢æ‹‰ä¼¸å˜å½¢
	
	-- æ·»åŠ UIAspectRatioConstraintæ¥ä¿æŒå›¾ç‰‡æ¯”ä¾‹
	local aspectRatio = Instance.new("UIAspectRatioConstraint")
	aspectRatio.AspectRatio = 1 -- 1:1æ¯”ä¾‹ï¼Œæ›´åå‘ç«–å‘
	aspectRatio.Parent = button
	
	-- åˆ›å»ºæ–‡æœ¬æ ‡ç­¾æ˜¾ç¤ºåŠ¨ç”»åç§°
	local textLabel = Instance.new("TextLabel")
	textLabel["Name"] = "AnimationName"
	textLabel["Size"] = UDim2.new(1, 0, 0, 20) -- åº•éƒ¨20åƒç´ é«˜åº¦
	textLabel["Position"] = UDim2.new(0, 0, 1, -20) -- ä½äºŽæŒ‰é’®åº•éƒ¨
	textLabel["BackgroundColor3"] = Color3.fromRGB(135, 206, 235) -- å¤©ç©ºè“èƒŒæ™¯ï¼ˆä¸Žä¸»é¢˜ä¸€è‡´ï¼‰
	textLabel["BackgroundTransparency"] = 0.6 -- åŠé€æ˜ŽèƒŒæ™¯
	textLabel["Text"] = data.name -- åŠ¨ç”»åç§°
	textLabel["TextColor3"] = Color3.new(1, 1, 1) -- ç™½è‰²æ–‡å­—
	textLabel["TextSize"] = 10 -- å°å­—ä½“
	textLabel["TextWrapped"] = true -- æ–‡æœ¬è‡ªåŠ¨æ¢è¡Œ
	textLabel["Font"] = Enum.Font.RobotoMono -- ç­‰å®½å­—ä½“
	textLabel["BorderSizePixel"] = 0 -- æ— è¾¹æ¡†
	textLabel["Parent"] = button -- ä½œä¸ºæŒ‰é’®çš„å­å…ƒç´ 

	-- åŠ¨ä½œæŒ‰é’®åœ†è§’
	local btnCorner = Instance.new("UICorner")
	btnCorner.CornerRadius = UDim.new(0, 8) -- åœ†è§’å¤§å°ï¼š8åƒç´ 
	btnCorner.Parent = button
	
	-- æ–‡æœ¬æ ‡ç­¾åœ†è§’ï¼ˆä»…åº•éƒ¨ï¼‰
	local textCorner = Instance.new("UICorner")
	textCorner.CornerRadius = UDim.new(0, 8) -- åœ†è§’å¤§å°ï¼š8åƒç´ 
	textCorner.Parent = textLabel

	-- åŠ¨ä½œæŒ‰é’®å›žå¼¹æ•ˆæžœ
	button["MouseButton1Down"]:Connect(function()
		if not isDragging then
			tweenService:Create(button, TweenInfo.new(0.05), {
				Size = UDim2.new(1, -5, 1, -5) -- ç¼©å°5åƒç´ 
			}):Play()
			clickSound() -- æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
		end
	end)
	button["MouseButton1Up"]:Connect(function()
		if not isDragging then
			tweenService:Create(button, TweenInfo.new(0.05), {
				Size = UDim2.new(1, 0, 1, 0)
			}):Play()
		end
	end)
	button["MouseLeave"]:Connect(function()
		if not isDragging then
			tweenService:Create(button, TweenInfo.new(0.05), {
				Size = UDim2.new(1, 0, 1, 0)
			}):Play()
		end
	end)

	-- å°†æŒ‰é’®åŠ å…¥åˆ—è¡¨ï¼ˆç”¨äºŽæœç´¢è¿‡æ»¤ï¼‰
	-- table.insert(oldButtons, button) -- æ³¨é‡ŠæŽ‰ï¼Œæ”¹ç”¨buttonContainer:GetChildren()

	-- åˆ›å»ºä¸»ç•Œé¢åŠ¨ç”»æŒ‰é’®æ‰§è¡Œæç¤ºå‡½æ•°
	local function showMainUIFeedback(animName)
		-- æŒ‰é’®é«˜äº®æ•ˆæžœ
		local originalTransparency = button.BackgroundTransparency
		button.BackgroundTransparency = 0
		
		-- åˆ›å»ºæ‰§è¡Œæç¤ºæ ‡ç­¾
		local feedbackLabel = Instance.new("TextLabel")
		feedbackLabel["Size"] = UDim2.new(1, 0, 0, 20)
		feedbackLabel["Position"] = UDim2.new(0, 0, 0.5, -10)
		feedbackLabel["BackgroundColor3"] = Color3.fromRGB(0, 255, 0)
		feedbackLabel["BackgroundTransparency"] = 0.2
		feedbackLabel["Text"] = animName .. " å·²æ‰§è¡Œ"
		feedbackLabel["TextColor3"] = Color3.new(1, 1, 1)
		feedbackLabel["TextSize"] = 12
		feedbackLabel["Font"] = Enum.Font.RobotoMono
		feedbackLabel["TextStrokeTransparency"] = 0
		feedbackLabel["TextStrokeColor3"] = Color3.new(0, 0, 0)
		feedbackLabel["BorderSizePixel"] = 0
		feedbackLabel["Parent"] = button
		
		local feedbackCorner = Instance.new("UICorner")
		feedbackCorner.CornerRadius = UDim.new(0, 6)
		feedbackCorner.Parent = feedbackLabel
		
		-- æ·¡å‡ºåŠ¨ç”»æ•ˆæžœ
		local tweenService = game:GetService("TweenService")
		local fadeInfo = TweenInfo.new(2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
		
		-- æ¢å¤æŒ‰é’®é€æ˜Žåº¦
		spawn(function()
			wait(0.1)
			button.BackgroundTransparency = originalTransparency
		end)
		
		-- æç¤ºæ ‡ç­¾æ·¡å‡º
		local fadeTween = tweenService:Create(feedbackLabel, fadeInfo, {
			BackgroundTransparency = 1,
			TextTransparency = 1,
			TextStrokeTransparency = 1
		})
		fadeTween:Play()
		
		-- æ¸…ç†æç¤ºæ ‡ç­¾
		fadeTween.Completed:Connect(function()
			feedbackLabel:Destroy()
		end)
	end

	-- æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆæ’­æ”¾å¯¹åº”åŠ¨ç”»æˆ–æ‰“å¼€å¼¹çª—ï¼‰
	button["MouseButton1Click"]:Connect(function()
		-- å¦‚æžœæ˜¯è‡ªå®šä¹‰æŒ‰é’®ï¼Œæ‰“å¼€å¼¹çª—è€Œä¸æ˜¯æ’­æ”¾åŠ¨ç”»
		if data.isCustom then
			-- æ˜¾ç¤ºå¼¹çª—æ‰“å¼€æç¤º
			showMainUIFeedback(data.name .. " å¼¹çª—")
			local popupId = "customPopup1" -- é»˜è®¤å€¼
			-- æ ¹æ®æŒ‰é’®åç§°ç¡®å®šå¼¹çª—ID
			if data.name == "èµ°è·¯åŠ¨ç”»åŒ…" then
				popupId = "customPopup1"
			elseif data.name == "å¾…æœºåŠ¨ç”»åŒ…" then
				popupId = "customPopup2"
			elseif data.name == "è·³è·ƒåŠ¨ç”»åŒ…" then
				popupId = "customPopup3"
			end
			local popupTitle = data.name
			local success, error = pcall(function()
				createPopupWindow(popupTitle, popupId)
			end)
			if not success then
				-- å¼¹çª—åˆ›å»ºå¤±è´¥ï¼Œé™é»˜å¤„ç†
			end
			return
		end
		
		if localplayer.Character then
			local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
			if humanoid then
				-- æ˜¾ç¤ºåŠ¨ç”»æ‰§è¡Œæç¤º
				showMainUIFeedback(data.name)
				
				-- åœæ­¢æ‰€æœ‰æ—§åŠ¨ç”»ï¼ˆåŒ…æ‹¬èµ°è·¯å’Œé™æ€åŠ¨ä½œï¼‰
				for animId, track in pairs(activeAnimations) do
					if track then
						track:Stop()
					end
				end
				activeAnimations = {}
				if walkTrack and walkTrack.IsPlaying then
					walkTrack:Stop()
				end

				-- åˆ›å»ºåŠ¨ç”»å®žä¾‹å¹¶è®¾ç½®åŠ¨ç”»ID
				local animation = Instance.new("Animation")
				animation.AnimationId = "rbxassetid://" .. data.id

				-- åŠ è½½åŠ¨ç”»å¹¶æ’­æ”¾ï¼ˆé™ä½Žæƒé‡ï¼Œä¸è¦†ç›–èµ°è·¯ï¼‰
				local animTrack = humanoid:LoadAnimation(animation)
				animTrack:Play()
				animTrack.Looped = data.looped
				animTrack.TimePosition = data.timepos
				animTrack:AdjustSpeed(data.speed)
				animTrack:AdjustWeight(1.5) -- æƒé‡ä»Ž999æ”¹ä¸º1.5

				activeAnimations[data.id] = animTrack
				currentStaticTrack = animTrack -- è®°å½•å½“å‰é™æ€åŠ¨ä½œ

				-- å¦‚æžœåŠ¨ç”»ç»“æŸåŽéœ€è¦å†»ç»“è§’è‰²ï¼ˆå¦‚å‡æ­»ã€ä¸­æžªï¼‰
				if data.freezeonend then
					local connection
					connection = animTrack.Stopped:Connect(function()
						if humanoid and humanoid.Parent then
							humanoid.AutoRotate = false
							-- ç§»é™¤é™é€Ÿé€»è¾‘ï¼Œä¸å†è®¾ç½®WalkSpeed = 0
							humanoid.JumpPower = 0
						end
						if connection then
							connection:Disconnect()
						end
					end)
				end
			end
		end
	end)
end

-- æ‰¹é‡åˆ›å»ºæ‰€æœ‰åŠ¨ç”»æŒ‰é’®
for _, animData in ipairs(animations) do
	createAnimButton(animData)
end

-- åŠ¨ç”»æœç´¢è¿‡æ»¤å‡½æ•°
local function filterAnimations(inputText)
	inputText = string.lower(inputText) -- å°†è¾“å…¥æ–‡æœ¬è½¬ä¸ºå°å†™ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰

	-- å¦‚æžœæœç´¢æ¡†ä¸ºç©ºï¼Œæ˜¾ç¤ºæ‰€æœ‰æŒ‰é’®
	if inputText == "" then
		for _, button in pairs(buttonContainer:GetChildren()) do
			if button:IsA("GuiButton") then
				button.Visible = true
			end
		end
	else
		-- å¦‚æžœæœ‰æœç´¢å†…å®¹ï¼ŒæŒ‰åç§°ã€IDæˆ–åºåˆ—å·è¿‡æ»¤
		for _, button in pairs(buttonContainer:GetChildren()) do
			if button:IsA("GuiButton") then
				local name = (button:GetAttribute("name") or ""):lower()
				local id = tostring(button:GetAttribute("id") or "")
				local number = tostring(button:GetAttribute("number") or "")
				
				-- æ”¯æŒæŒ‰åç§°ã€IDæˆ–åºåˆ—å·æœç´¢
				if string.find(name, inputText, 1, true) or string.find(id, inputText, 1, true) or string.find(number, inputText, 1, true) then
					button.Visible = true
				else
					button.Visible = false
				end
			end
		end
	end

	-- è°ƒæ•´æ»šåŠ¨æ¡†ç”»å¸ƒå¤§å°ï¼ˆé€‚é…æ˜¾ç¤ºçš„æŒ‰é’®ï¼‰
	wait(0.1) -- ç­‰å¾…å¸ƒå±€æ›´æ–°
	scrollFrame["CanvasSize"] = UDim2.new(0, 0, 0, buttonLayout["AbsoluteContentSize"]["Y"])
end

-- ç›‘å¬æœç´¢æ¡†æ–‡æœ¬å˜åŒ–ï¼ˆå®žæ—¶è¿‡æ»¤åŠ¨ç”»ï¼‰
searchBox:GetPropertyChangedSignal("Text"):Connect(function()
	filterAnimations(searchBox.Text)
end)

-- ä¸‰ä¸ªåŠ¨ç”»åŒ…æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶å¤„ç†
-- 1. èµ°è·¯åŠ¨ç”»åŒ…æŒ‰é’®
walkButton["MouseButton1Click"]:Connect(function()
	clickSound() -- æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
	if walkAnimActive then
		-- å…³é—­èµ°è·¯åŠ¨ç”»åŒ…
		walkAnimActive = false
		walkButton.Text = "å¼€å¯èµ°è·¯"
		-- åœæ­¢èµ°è·¯åŠ¨ç”»
		if walkTrack then
			if walkTrack.IsPlaying then
				walkTrack:Stop()
			end
			walkTrack:Destroy()
			walkTrack = nil
		end
		-- é‡æ–°åˆå§‹åŒ–é»˜è®¤èµ°è·¯åŠ¨ç”»
		initWalkAnimation()
	else
		-- å¼€å¯èµ°è·¯åŠ¨ç”»åŒ…
		walkAnimActive = true
		walkButton.Text = "åœæ­¢èµ°è·¯"
		-- è§¦å‘èµ°è·¯åŠ¨ç”»åŒ…çš„ç¬¬ä¸€ä¸ªåŠ¨ç”»
		local walkAnimations = {}
		for _, animData in ipairs(animations) do
			if animData.category == "èµ°è·¯åŠ¨ç”»åŒ…" then
				table.insert(walkAnimations, animData)
			end
		end
		if #walkAnimations > 0 then
			-- æ’­æ”¾ç¬¬ä¸€ä¸ªèµ°è·¯åŠ¨ç”»
			playAnimation(walkAnimations[1])
		end
	end
end)

-- 2. å¾…æœºåŠ¨ç”»åŒ…æŒ‰é’®
idleButton["MouseButton1Click"]:Connect(function()
	clickSound() -- æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
	if idleAnimActive then
		-- å…³é—­å¾…æœºåŠ¨ç”»åŒ…
		idleAnimActive = false
		idleButton.Text = "å¼€å¯å¾…æœº"
		-- åœæ­¢å¾…æœºåŠ¨ç”»
		if idleTrack then
			if idleTrack.IsPlaying then
				idleTrack:Stop()
			end
			idleTrack:Destroy()
			idleTrack = nil
			isIdleActive = false
		end
	else
		-- å¼€å¯å¾…æœºåŠ¨ç”»åŒ…
		idleAnimActive = true
		idleButton.Text = "åœæ­¢å¾…æœº"
		-- è§¦å‘å¾…æœºåŠ¨ç”»åŒ…çš„ç¬¬ä¸€ä¸ªåŠ¨ç”»
		local idleAnimations = {}
		for _, animData in ipairs(animations) do
			if animData.category == "å¾…æœºåŠ¨ç”»åŒ…" then
				table.insert(idleAnimations, animData)
			end
		end
		if #idleAnimations > 0 then
			-- æ’­æ”¾ç¬¬ä¸€ä¸ªå¾…æœºåŠ¨ç”»
			playAnimation(idleAnimations[1])
		end
	end
end)

-- 3. è·³è·ƒåŠ¨ç”»åŒ…æŒ‰é’®
jumpButton["MouseButton1Click"]:Connect(function()
	clickSound() -- æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
	if jumpAnimActive then
		-- å…³é—­è·³è·ƒåŠ¨ç”»åŒ…
		jumpAnimActive = false
		jumpButton.Text = "å¼€å¯è·³è·ƒ"
		-- åœæ­¢è·³è·ƒåŠ¨ç”»
		if jumpTrack then
			if jumpTrack.IsPlaying then
				jumpTrack:Stop()
			end
			jumpTrack:Destroy()
			jumpTrack = nil
			isJumpActive = false
		end
	else
		-- å¼€å¯è·³è·ƒåŠ¨ç”»åŒ…
		jumpAnimActive = true
		jumpButton.Text = "åœæ­¢è·³è·ƒ"
		-- è§¦å‘è·³è·ƒåŠ¨ç”»åŒ…çš„ç¬¬ä¸€ä¸ªåŠ¨ç”»
		local jumpAnimations = {}
		for _, animData in ipairs(animations) do
			if animData.category == "è·³è·ƒåŠ¨ç”»åŒ…" then
				table.insert(jumpAnimations, animData)
			end
		end
		if #jumpAnimations > 0 then
			-- æ’­æ”¾ç¬¬ä¸€ä¸ªè·³è·ƒåŠ¨ç”»
			playAnimation(jumpAnimations[1])
		end
	end
end)

-- ã€Œåœæ­¢æ‰€æœ‰åŠ¨ä½œã€æŒ‰é’®é€»è¾‘ï¼ˆåªåœæ­¢åŠ¨ä½œï¼Œä¸é”€æ¯UIï¼‰
stopAllButton["MouseButton1Click"]:Connect(function()
	clickSound() -- æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
	-- 1. åœæ­¢æ‰€æœ‰æ­£åœ¨æ’­æ”¾çš„è‡ªå®šä¹‰åŠ¨ç”»
	for animId, track in pairs(activeAnimations) do
		if track then
			track:Stop()
			track:Destroy()
		end
	end
	activeAnimations = {}
	
	-- 2. åœæ­¢å¹¶é”€æ¯èµ°è·¯åŠ¨ç”»
	if walkTrack then
		if walkTrack.IsPlaying then
			walkTrack:Stop()
		end
		walkTrack:Destroy()
		walkTrack = nil
	end
	
	-- 3. åœæ­¢å¹¶é”€æ¯å½“å‰é™æ€åŠ¨ä½œ
	if currentStaticTrack then
		if currentStaticTrack.IsPlaying then
			currentStaticTrack:Stop()
		end
		currentStaticTrack:Destroy()
		currentStaticTrack = nil
	end
	
	-- 4. åœæ­¢å¹¶é”€æ¯å¾…æœºåŠ¨ç”»
	if idleTrack then
		if idleTrack.IsPlaying then
			idleTrack:Stop()
		end
		idleTrack:Destroy()
		idleTrack = nil
		isIdleActive = false
	end
	
	-- 5. åœæ­¢å¹¶é”€æ¯è·³è·ƒåŠ¨ç”»
	if jumpTrack then
		if jumpTrack.IsPlaying then
			jumpTrack:Stop()
		end
		jumpTrack:Destroy()
		jumpTrack = nil
		isJumpActive = false
	end
	
	-- 6. æ¢å¤è§’è‰²æŽ§åˆ¶
	if localplayer.Character then
		local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
		if humanoid then
			humanoid.AutoRotate = true 
			humanoid.JumpPower = 50 
		end
	end
	
	-- 7. é‡ç½®åŠ¨ç”»åŒ…çŠ¶æ€ä¸ºå…³é—­
	walkAnimActive = false
	walkButton.Text = "èµ°è·¯åŒ…"
	
	idleAnimActive = false
	idleButton.Text = "å¾…æœºåŒ…"
	
	jumpAnimActive = false
	jumpButton.Text = "è·³è·ƒåŒ…"
end)

-- ã€Œå…³é—­ã€æŒ‰é’®é€»è¾‘ï¼ˆåœæ­¢æ‰€æœ‰åŠ¨ä½œ+é”€æ¯UIï¼Œä¿®å¤ï¼šå½»åº•è§£é™¤è§’è‰²æŽ§åˆ¶ï¼‰
closeButton["MouseButton1Click"]:Connect(function()
	clickSound() -- æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
	-- 1. åœæ­¢æ‰€æœ‰æ­£åœ¨æ’­æ”¾çš„è‡ªå®šä¹‰åŠ¨ç”»
	for animId, track in pairs(activeAnimations) do
		if track then
			track:Stop()
			track:Destroy()
		end
	end
	activeAnimations = {}
	
	-- 2. åœæ­¢å¹¶é”€æ¯èµ°è·¯åŠ¨ç”»
	if walkTrack then
		if walkTrack.IsPlaying then
			walkTrack:Stop()
		end
		walkTrack:Destroy()
		walkTrack = nil
	end
	
	-- 3. åœæ­¢å¹¶é”€æ¯å½“å‰é™æ€åŠ¨ä½œ
	if currentStaticTrack then
		if currentStaticTrack.IsPlaying then
			currentStaticTrack:Stop()
		end
		currentStaticTrack:Destroy()
		currentStaticTrack = nil
	end
	
	-- 3.1 åœæ­¢å¹¶é”€æ¯å¾…æœºåŠ¨ç”»
	if idleTrack then
		if idleTrack.IsPlaying then
			idleTrack:Stop()
		end
		idleTrack:Destroy()
		idleTrack = nil
		isIdleActive = false
	end
	
	-- 3.2 åœæ­¢å¹¶é”€æ¯è·³è·ƒåŠ¨ç”»
	if jumpTrack then
		if jumpTrack.IsPlaying then
			jumpTrack:Stop()
		end
		jumpTrack:Destroy()
		jumpTrack = nil
		isJumpActive = false
	end
	
	-- 4. æ¢å¤è§’è‰²æŽ§åˆ¶
	if localplayer.Character then
		local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
		if humanoid then
			humanoid.AutoRotate = true 
			-- ç§»é™¤é™é€Ÿé€»è¾‘ï¼Œä¸å†å¼ºåˆ¶è®¾ç½®WalkSpeed
			humanoid.JumpPower = 50 
		end
	end

	-- 5. æ–­å¼€ç§»åŠ¨æ£€æµ‹è¿žæŽ¥
	if movementConnection then
		movementConnection:Disconnect()
		movementConnection = nil
	end
	
	-- 5.1 æ–­å¼€è·³è·ƒæ£€æµ‹è¿žæŽ¥
	if jumpConnection then
		jumpConnection:Disconnect()
		jumpConnection = nil
	end
	
	-- 6. å…³é—­æ‰€æœ‰å¼¹å‡ºçª—å£
	for windowId, window in pairs(popupWindows) do
		if window and window.Parent then
			window:Destroy()
		end
	end
	popupWindows = {}
	
	-- 7. é”€æ¯æ•´ä¸ªUI
	gui:Destroy()
end)

-- æ ¸å¿ƒï¼šæœ€å°åŒ–/æœ€å¤§åŒ–åˆ‡æ¢é€»è¾‘ï¼ˆå®Œå…¨ç‹¬ç«‹çš„ä¸¤ä¸ªUIå…ƒç´ ï¼‰
local isMinimized = false -- æ˜¯å¦å¤„äºŽæœ€å°åŒ–çŠ¶æ€

-- ä½¿ç”¨å…¨å±€å®šä¹‰çš„ä½ç½®å˜é‡

-- åˆ›å»ºå…¨æ–°çš„æœ€å°åŒ–æŒ‰é’®å›¾æ ‡ï¼ˆå®Œå…¨æŒ‰ç…§åŠ¨ä½œ2çš„OpenæŒ‰é’®æ ·å¼ï¼‰
local newMinimizeIcon = Instance.new("TextButton")
newMinimizeIcon.Name = "NewMinimizeIcon"
newMinimizeIcon.Parent = gui
newMinimizeIcon.Draggable = true -- å¯æ‹–æ‹½ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
newMinimizeIcon.Size = UDim2.new(0.06, 0, 0.137, 0) -- å°ºå¯¸ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
newMinimizeIcon.Position = UDim2.new(0.1, 0, 0.2, 0) -- å‘ä¸‹ç§»åŠ¨
newMinimizeIcon.Text = "å…³é—­" -- åˆå§‹æ–‡æœ¬ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
newMinimizeIcon.BackgroundColor3 = Color3.fromRGB(135, 206, 235) -- å¤©ç©ºè“èƒŒæ™¯ï¼ˆä¸Žä¸»é¢˜ä¸€è‡´ï¼‰
newMinimizeIcon.TextColor3 = Color3.fromRGB(255, 255, 255) -- ç™½è‰²æ–‡å­—ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
newMinimizeIcon.TextScaled = true -- æ–‡å­—è‡ªé€‚åº”ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
newMinimizeIcon.TextSize = 20 -- å­—ä½“å¤§å°ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
newMinimizeIcon.Visible = true -- é»˜è®¤æ˜¾ç¤º
newMinimizeIcon.BackgroundTransparency = 0.6 -- é€æ˜Žåº¦40%ï¼Œæ›´é€æ˜Ž

-- æŒ‰é’®ç‚¹å‡»æŽ§åˆ¶å‡½æ•°ï¼ˆæ¥è‡ªåŠ¨ä½œ2çš„toggleUIé€»è¾‘ï¼Œæ·»åŠ åŠ¨ç”»æ•ˆæžœå’Œå…¨å±€çª—å£æŽ§åˆ¶ï¼‰
local function toggleNewMinimizeUI()
    if newMinimizeIcon.Text == "æ‰“å¼€" then
        newMinimizeIcon.Text = "å…³é—­"
        -- æœ€å¤§åŒ–åŠ¨ç”»ï¼šä»Žæœ€å°åŒ–æŒ‰é’®ä½ç½®å±•å¼€åˆ°ä¸»æ¡†æž¶
        mainFrame.Position = newMinimizeIcon.Position
        mainFrame.Size = UDim2.new(0, 30, 0, 30) -- ä»ŽæŒ‰é’®å¤§å°å¼€å§‹
        mainFrame.Visible = true
        
        -- åˆ›å»ºå±•å¼€åŠ¨ç”»
        local expandTween = tweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
            Position = mainFramePosition,
            Size = UDim2.new(0, 320, 0, 240)
        })
        expandTween:Play()
        
        -- åŒæ—¶å±•å¼€æ‰€æœ‰å¼¹å‡ºçª—å£
        for windowId, window in pairs(popupWindows) do
            if window and window.Parent then
                window.Visible = true
            end
        end
    else
        if newMinimizeIcon.Text == "å…³é—­" then
            newMinimizeIcon.Text = "æ‰“å¼€"
            -- æœ€å°åŒ–åŠ¨ç”»ï¼šä»Žä¸»æ¡†æž¶æ”¶ç¼©åˆ°æœ€å°åŒ–æŒ‰é’®ä½ç½®
            mainFramePosition = mainFrame.Position -- ä¿å­˜å½“å‰ä½ç½®
            
            local shrinkTween = tweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
                Position = newMinimizeIcon.Position,
                Size = UDim2.new(0, 30, 0, 30)
            })
            shrinkTween:Play()
            
            -- åŠ¨ç”»å®ŒæˆåŽéšè—ä¸»æ¡†æž¶
            shrinkTween.Completed:Connect(function()
                mainFrame.Visible = false
            end)
            
            -- åŒæ—¶æ”¶æ‹¢æ‰€æœ‰å¼¹å‡ºçª—å£
            for windowId, window in pairs(popupWindows) do
                if window and window.Parent then
                    window.Visible = false
                end
            end
        end
    end
end

-- æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
newMinimizeIcon.MouseButton1Up:Connect(toggleNewMinimizeUI)

-- æ·»åŠ é”®ç›˜Fé”®å¿«æ·é”®æŽ§åˆ¶ï¼ˆä¿®æ”¹ä¸ºFé”®ï¼‰
userInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    
    if input.KeyCode == Enum.KeyCode.F then
        toggleNewMinimizeUI()
    end
end)

-- æŒ‰é’®åœ†è§’ï¼ˆæ¥è‡ªåŠ¨ä½œ2çš„å®Œå…¨åœ†è§’æ ·å¼ï¼‰
local newMinimizeIconCorner = Instance.new("UICorner")
newMinimizeIconCorner.Name = "UICorner"
newMinimizeIconCorner.Parent = newMinimizeIcon
newMinimizeIconCorner.CornerRadius = UDim.new(1, 0) -- å®Œå…¨åœ†è§’ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰

-- ä¿ç•™åŽŸæœ‰çš„æœ€å°åŒ–å›¾æ ‡ï¼ˆé‡å‘½åä»¥é¿å…å†²çªï¼‰
local minimizeIcon = Instance.new("TextButton")
minimizeIcon["Name"] = "MinimizeIcon"
minimizeIcon["Size"] = UDim2.new(0, 30, 0, 30) -- å›ºå®š30x30å°ºå¯¸
minimizeIcon["Position"] = minimizeIconPosition -- ä½¿ç”¨ç‹¬ç«‹çš„ä½ç½®å˜é‡
minimizeIcon["BackgroundColor3"] = Color3.fromRGB(135, 206, 235) -- å¤©ç©ºè“èƒŒæ™¯ï¼ˆä¸Žä¸»é¢˜ä¸€è‡´ï¼‰
minimizeIcon["Text"] = "å…³é—­" -- ä½¿ç”¨åŠ¨ä½œ2çš„OpenæŒ‰é’®åˆå§‹æ–‡æœ¬
minimizeIcon["TextColor3"] = Color3.fromRGB(255, 255, 255) -- ç™½è‰²æ–‡å­—ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
minimizeIcon["TextSize"] = 20 -- å­—ä½“å¤§å°ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
minimizeIcon["TextScaled"] = true -- æ–‡å­—è‡ªé€‚åº”ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
minimizeIcon["Font"] = Enum.Font.RobotoMono -- ç­‰å®½å­—ä½“
minimizeIcon["BorderSizePixel"] = 0 -- æ— è¾¹æ¡†
minimizeIcon["BackgroundTransparency"] = 0.4 -- é€æ˜Žåº¦40%ï¼Œæ›´é€æ˜Ž
minimizeIcon["Parent"] = gui -- ç›´æŽ¥ä½œä¸ºguiçš„å­å…ƒç´ ï¼Œä¸ŽmainFrameåŒçº§
minimizeIcon["Visible"] = false -- åˆå§‹éšè—
-- å›¾æ ‡æŒ‰é’®åœ†è§’ï¼ˆæ¥è‡ªåŠ¨ä½œ2çš„åœ†è§’æ ·å¼ï¼‰
local minimizeIconCorner = Instance.new("UICorner")
minimizeIconCorner.CornerRadius = UDim.new(1, 0) -- å®Œå…¨åœ†è§’ï¼ˆæ¥è‡ªåŠ¨ä½œ2ï¼‰
minimizeIconCorner.Parent = minimizeIcon

-- 1. ç§»é™¤é¡¶éƒ¨æ æœ€å°åŒ–æŒ‰é’®ç‚¹å‡»äº‹ä»¶å¤„ç†

-- 2. æœ€å°åŒ–å›¾æ ‡æŒ‰é’®ç‚¹å‡»ï¼šè§¦å‘æœ€å¤§åŒ–ï¼ˆæ‹–æ‹½æ—¶ä¸è§¦å‘ï¼‰
minimizeIcon["MouseButton1Click"]:Connect(function()
	if not isDragging then
		isMinimized = false
		-- éšè—æœ€å°åŒ–å›¾æ ‡ï¼Œä¿å­˜å…¶å½“å‰ä½ç½®
		minimizeIconPosition = minimizeIcon["Position"]
		minimizeIcon["Visible"] = false
		-- æ˜¾ç¤ºä¸»æ¡†æž¶ï¼ˆæœ€å¤§åŒ–UIï¼‰ï¼Œæ¢å¤å…¶ä¹‹å‰ä¿å­˜çš„ä½ç½®
		mainFrame["Position"] = mainFramePosition
		mainFrame["Visible"] = true
		clickSound() -- æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
	end
end)

-- æœ€å°åŒ–å›¾æ ‡æŒ‰é’®å›žå¼¹æ•ˆæžœï¼ˆæ‹–æ‹½æ—¶ç¦ç”¨ï¼‰
minimizeIcon["MouseButton1Down"]:Connect(function()
	if not isDragging then
		tweenService:Create(minimizeIcon, TweenInfo.new(0.05), {
			Size = UDim2.new(0, 28, 0, 28) -- æŒ‰ä¸‹æ—¶ç¼©å°2px
		}):Play()
		clickSound() -- æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆ
	end
end)
minimizeIcon["MouseButton1Up"]:Connect(function()
	if not isDragging then
		tweenService:Create(minimizeIcon, TweenInfo.new(0.05), {
			Size = UDim2.new(0, 30, 0, 30)
		}):Play()
	end
end)
minimizeIcon["MouseLeave"]:Connect(function()
	if not isDragging then
		tweenService:Create(minimizeIcon, TweenInfo.new(0.05), {
			Size = UDim2.new(0, 30, 0, 30)
		}):Play()
	end
end)

-- æœ€å°åŒ–å›¾æ ‡ç‹¬ç«‹çš„æ‹–æ‹½é€»è¾‘
minimizeIcon["InputBegan"]:Connect(function(input)
	if (input["UserInputType"] == Enum.UserInputType.MouseButton1 or input["UserInputType"] == Enum.UserInputType.Touch) then 
		isDragging = true 
		dragStartPos = input["Position"] 
		uiStartPos = minimizeIcon["Position"] 
		input["Changed"]:Connect(function()
			if input["UserInputState"] == Enum.UserInputState.End then
				isDragging = false 
				-- æ‹–æ‹½ç»“æŸæ—¶ï¼Œä¿å­˜æœ€å°åŒ–å›¾æ ‡çš„å½“å‰ä½ç½®
				minimizeIconPosition = minimizeIcon["Position"]
			end
		end)
	end
end)

-- æ›´æ–°æ‹–æ‹½ä½ç½®çš„é€šç”¨å‡½æ•°ï¼ˆæ”¯æŒä¸¤ä¸ªç‹¬ç«‹UIå…ƒç´ ï¼‰
function updateDragPosition(input)
	if not isDragging then return end -- éžæ‹–æ‹½çŠ¶æ€ç›´æŽ¥è¿”å›ž
	local deltaPos = input["Position"] - dragStartPos -- ä½ç½®å˜åŒ–é‡
	local newPosition = UDim2.new(
		uiStartPos["X"]["Scale"], uiStartPos["X"]["Offset"] + deltaPos["X"],
		uiStartPos["Y"]["Scale"], uiStartPos["Y"]["Offset"] + deltaPos["Y"]
	)
	
	-- æ ¹æ®å½“å‰çŠ¶æ€æ›´æ–°å¯¹åº”çš„UIå…ƒç´ ä½ç½®
	if isMinimized then
		minimizeIcon["Position"] = newPosition
	else
		mainFrame["Position"] = newPosition
	end
end

-- æ»šåŠ¨æ¡†è‡ªé€‚åº”é€»è¾‘ï¼ˆæŒ‰é’®æ•°é‡å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨è°ƒæ•´æ»šåŠ¨èŒƒå›´ï¼‰
buttonLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	buttonContainer["Size"] = UDim2.new(1, -10, 0, buttonLayout["AbsoluteContentSize"]["Y"])
	scrollFrame["CanvasSize"] = UDim2.new(0, 0, 0, buttonLayout["AbsoluteContentSize"]["Y"])
end)

-- æ–°å¢žæ¨¡å—ï¼šèµ°è·¯åŠ¨ç”»æŽ§åˆ¶ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
local function initWalkAnimation()
	if localplayer.Character then
		local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
		if humanoid and not walkTrack then
			-- ä½¿ç”¨Robloxé»˜è®¤R15èµ°è·¯åŠ¨ç”»ï¼ˆå¯æ›¿æ¢ä¸ºè‡ªå®šä¹‰IDï¼‰
		local walkAnim = Instance.new("Animation")
		walkAnim.AnimationId = "rbxassetid://1070017263"   
--å¸¦è·³èµ°è·¯507777826
--ç»å…¸èµ°è·¯107806791584829
--å¦–å¨†èµ°è·¯ 1070017263
			walkTrack = humanoid:LoadAnimation(walkAnim)
			walkTrack.Looped = true
			walkTrack:AdjustWeight(3) -- èµ°è·¯æƒé‡é«˜äºŽé™æ€åŠ¨ä½œï¼Œä¸Žå¼¹çª—è®¾ç½®ä¿æŒä¸€è‡´
		end
	end
end

-- ç›‘å¬è§’è‰²é‡ç”Ÿï¼Œé‡æ–°åˆå§‹åŒ–èµ°è·¯åŠ¨ç”»
localplayer.CharacterAdded:Connect(initWalkAnimation)
-- é¦–æ¬¡åŠ è½½è§’è‰²æ—¶åˆå§‹åŒ–
initWalkAnimation()

-- ç›‘å¬ç§»åŠ¨è¾“å…¥ï¼Œå®žçŽ°ã€Œç§»åŠ¨æ’­èµ°è·¯/åœæ­¢æ¢å¤é™æ€åŠ¨ä½œã€ä»¥åŠå¾…æœºåŠ¨ç”»ç³»ç»Ÿ
local function checkMovementState()
	if not localplayer.Character then return end
	local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
	if not humanoid or not walkTrack then return end

	-- æ ¹æ®è§’è‰²ç§»åŠ¨æ–¹å‘åˆ¤æ–­æ˜¯å¦åœ¨ç§»åŠ¨
	local isMoving = humanoid.MoveDirection.Magnitude > 0
	local currentTime = tick()
	
	if isMoving then
		-- ç§»åŠ¨ä¸­ï¼šæ›´æ–°ç§»åŠ¨æ—¶é—´ï¼Œåœæ­¢å¾…æœºå’Œé™æ€åŠ¨ä½œï¼Œæ’­æ”¾èµ°è·¯åŠ¨ç”»
		lastMovementTime = currentTime
		
		-- åœæ­¢å¾…æœºåŠ¨ç”»
		if isIdleActive and idleTrack and idleTrack.IsPlaying then
			idleTrack:Stop()
			isIdleActive = false
		end
		
		-- åœæ­¢é™æ€åŠ¨ä½œ
		if currentStaticTrack and currentStaticTrack.IsPlaying then
			currentStaticTrack:Stop()
		end
		
		-- æ’­æ”¾èµ°è·¯åŠ¨ç”»
		if not walkTrack.IsPlaying then
			walkTrack:Play()
		end
	else
		-- åœæ­¢ç§»åŠ¨ï¼šåœæ­¢èµ°è·¯åŠ¨ç”»ï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦æ’­æ”¾å¾…æœºåŠ¨ç”»
		if walkTrack.IsPlaying then
			walkTrack:Stop()
		end
		
		-- æ£€æŸ¥å¾…æœºåŠ¨ç”»è§¦å‘æ¡ä»¶ï¼ˆ8ç§’æ— ç§»åŠ¨ï¼‰
		if idleTrack and not isIdleActive and (currentTime - lastMovementTime) >= 8 then
			-- åœæ­¢é™æ€åŠ¨ä½œï¼Œæ’­æ”¾å¾…æœºåŠ¨ç”»
			if currentStaticTrack and currentStaticTrack.IsPlaying then
				currentStaticTrack:Stop()
			end
			
			idleTrack:Play()
			isIdleActive = true
		elseif not isIdleActive then
			-- æœªè¾¾åˆ°å¾…æœºæ¡ä»¶ï¼Œæ¢å¤é™æ€åŠ¨ä½œ
			if currentStaticTrack and not currentStaticTrack.IsPlaying then
				currentStaticTrack:Play()
			end
		end
	end
end

-- è·³è·ƒæ£€æµ‹å‡½æ•°ï¼šæ£€æµ‹äººç‰©å¤±æŽ§æˆ–åœ¨ç©ºä¸­çŠ¶æ€
local function checkJumpState()
	if not localplayer.Character or not jumpTrack then return end
	local humanoid = localplayer.Character:FindFirstChildOfClass("Humanoid")
	local rootPart = localplayer.Character:FindFirstChild("HumanoidRootPart")
	if not humanoid or not rootPart then return end
	
	-- æ£€æµ‹äººç‰©æ˜¯å¦åœ¨ç©ºä¸­ï¼ˆå¤±æŽ§çŠ¶æ€ï¼‰
	local isInAir = false
	local raycast = workspace:Raycast(rootPart.Position, Vector3.new(0, -10, 0))
	if not raycast then
		isInAir = true -- æ²¡æœ‰æ£€æµ‹åˆ°åœ°é¢ï¼Œè¯´æ˜Žåœ¨ç©ºä¸­
	end
	
	-- æ£€æµ‹äººç‰©æ˜¯å¦å¤±æŽ§ï¼ˆPlatformStandçŠ¶æ€æˆ–è·³è·ƒçŠ¶æ€ï¼‰
	local isOutOfControl = humanoid.PlatformStand or humanoid:GetState() == Enum.HumanoidStateType.Freefall or humanoid:GetState() == Enum.HumanoidStateType.Jumping
	
	-- å¦‚æžœåœ¨ç©ºä¸­æˆ–å¤±æŽ§ï¼Œä¸”æ²¡æœ‰æ’­æ”¾è·³è·ƒåŠ¨ç”»ï¼Œåˆ™æ’­æ”¾
	if (isInAir or isOutOfControl) and not isJumpActive then
		-- åœæ­¢å…¶ä»–åŠ¨ç”»
		if idleTrack and idleTrack.IsPlaying then
			idleTrack:Stop()
			isIdleActive = false
		end
		if currentStaticTrack and currentStaticTrack.IsPlaying then
			currentStaticTrack:Stop()
		end
		
		-- æ’­æ”¾è·³è·ƒåŠ¨ç”»
		jumpTrack:Play()
		isJumpActive = true
	-- å¦‚æžœç€åœ°ä¸”ä¸å¤±æŽ§ï¼Œåœæ­¢è·³è·ƒåŠ¨ç”»
	elseif not isInAir and not isOutOfControl and isJumpActive then
		jumpTrack:Stop()
		isJumpActive = false
	end
end

-- ç§»åŠ¨æ£€æµ‹è¿žæŽ¥ï¼ˆå­˜å…¥å˜é‡ï¼Œä¾¿äºŽå…³é—­æ—¶æ–­å¼€ï¼‰
movementConnection = runService.RenderStepped:Connect(checkMovementState)

-- è·³è·ƒæ£€æµ‹è¿žæŽ¥ï¼ˆå­˜å…¥å˜é‡ï¼Œä¾¿äºŽå…³é—­æ—¶æ–­å¼€ï¼‰
jumpConnection = runService.RenderStepped:Connect(checkJumpState)

-- äº¤äº’æŒ‰é’®å·²ç§»åŠ¨åˆ°æ»šåŠ¨åŒºåŸŸï¼Œç‚¹å‡»äº‹ä»¶å·²é›†æˆåˆ°createAnimButtonå‡½æ•°ä¸­

-- æ‰€æœ‰å‡½æ•°å®šä¹‰å®ŒæˆåŽï¼Œè¿žæŽ¥è¾“å…¥äº‹ä»¶
connectInputEvents()

-- åˆ›å»ºå³ä¸‹è§’å¯åŠ¨æç¤º
local function showStartupNotification()
	-- åˆ›å»ºæç¤ºæ¡†æž¶
	local notificationFrame = Instance.new("Frame")
	notificationFrame.Name = "StartupNotification"
	notificationFrame.Size = UDim2.new(0, 150, 0, 60)
	notificationFrame.Position = UDim2.new(1, -80, 1, -100) -- å³ä¸‹è§’ä½ç½®
	notificationFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	notificationFrame.BackgroundTransparency = 0.2
	notificationFrame.BorderSizePixel = 0
	notificationFrame.Parent = gui
	
	-- æ·»åŠ åœ†è§’
	local notificationCorner = Instance.new("UICorner")
	notificationCorner.CornerRadius = UDim.new(0, 10)
	notificationCorner.Parent = notificationFrame
	
	-- æ·»åŠ æ¸å˜èƒŒæ™¯
	local notificationGradient = Instance.new("UIGradient")
	notificationGradient.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0.0, Color3.fromRGB(135, 206, 235)), -- å¤©ç©ºè“
		ColorSequenceKeypoint.new(1.0, Color3.fromRGB(70, 130, 180))   -- æ·±å¤©ç©ºè“
	}
	notificationGradient.Rotation = 45
	notificationGradient.Parent = notificationFrame
	
	-- åˆ›å»ºä¸»è¦æ–‡æœ¬
	local mainText = Instance.new("TextLabel")
	mainText.Size = UDim2.new(1, -10, 0, 30)
	mainText.Position = UDim2.new(0, 5, 0, 5)
	mainText.BackgroundTransparency = 1
	mainText.Text = "-- åŠ¨ç”»åŒ…å·²åŠ è½½å®Œæˆ --"
	mainText.TextColor3 = Color3.new(1, 1, 1)
	mainText.TextSize = 16
	mainText.Font = Enum.Font.RobotoMono
	mainText.TextStrokeTransparency = 0
	mainText.TextStrokeColor3 = Color3.new(0, 0, 0)
	mainText.Parent = notificationFrame
	
	-- åˆ›å»ºå¿«æ·é”®æç¤ºæ–‡æœ¬
	local shortcutText = Instance.new("TextLabel")
	shortcutText.Size = UDim2.new(1, -10, 0, 20)
	shortcutText.Position = UDim2.new(0, 5, 0, 35)
	shortcutText.BackgroundTransparency = 1
	shortcutText.Text = "å¿«æ·é”®æŒ‰ 'F' å¼€å…³"
	shortcutText.TextColor3 = Color3.fromRGB(255, 255, 0) -- é»„è‰²çªå‡ºæ˜¾ç¤º
	shortcutText.TextSize = 12
	shortcutText.Font = Enum.Font.RobotoMono
	shortcutText.TextStrokeTransparency = 0
	shortcutText.TextStrokeColor3 = Color3.new(0, 0, 0)
	shortcutText.Parent = notificationFrame
	
	-- ä»Žå³ä¾§æ»‘å…¥åŠ¨ç”»
	local slideInTween = tweenService:Create(notificationFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
		Position = UDim2.new(1, -160, 1, -80)
	})
	
	-- åˆå§‹ä½ç½®è®¾ä¸ºå±å¹•å¤–
	notificationFrame.Position = UDim2.new(1, 50, 1, -80)
	slideInTween:Play()
	
	-- 3ç§’åŽæ·¡å‡ºå¹¶é”€æ¯
	spawn(function()
		wait(8)
		local fadeOutTween = tweenService:Create(notificationFrame, TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			BackgroundTransparency = 1,
			Position = UDim2.new(1, 50, 1, -80) -- æ»‘å‡ºåˆ°å³ä¾§
		})
		
		local textFadeOut1 = tweenService:Create(mainText, TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			TextTransparency = 1,
			TextStrokeTransparency = 1
		})
		
		local textFadeOut2 = tweenService:Create(shortcutText, TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			TextTransparency = 1,
			TextStrokeTransparency = 1
		})
		
		fadeOutTween:Play()
		textFadeOut1:Play()
		textFadeOut2:Play()
		
		fadeOutTween.Completed:Connect(function()
			notificationFrame:Destroy()
		end)
	end)
end

-- å»¶è¿Ÿæ˜¾ç¤ºå¯åŠ¨æç¤ºï¼ˆç¡®ä¿UIå®Œå…¨åŠ è½½åŽæ˜¾ç¤ºï¼‰
spawn(function()
	wait(1) -- ç­‰å¾…1ç§’ç¡®ä¿æ‰€æœ‰UIå…ƒç´ åŠ è½½å®Œæˆ
	showStartupNotification()
end)

-- è„šæœ¬å¯åŠ¨æ—¶è‡ªåŠ¨æ’­æ”¾æ‰€æœ‰é»˜è®¤å¼€å¯çš„åŠ¨ç”»åŒ…
if walkAnimActive then
	local walkAnimations = {}
	for _, animData in ipairs(animations) do
		if animData.category == "èµ°è·¯åŠ¨ç”»åŒ…" then
			table.insert(walkAnimations, animData)
		end
	end
	if #walkAnimations > 0 then
		-- æ’­æ”¾ç¬¬ä¸€ä¸ªèµ°è·¯åŠ¨ç”»
		playAnimation(walkAnimations[1])
	end
end

if idleAnimActive then
	local idleAnimations = {}
	for _, animData in ipairs(animations) do
		if animData.category == "å¾…æœºåŠ¨ç”»åŒ…" then
			table.insert(idleAnimations, animData)
		end
	end
	if #idleAnimations > 0 then
		-- æ’­æ”¾ç¬¬ä¸€ä¸ªå¾…æœºåŠ¨ç”»
		playAnimation(idleAnimations[1])
	end
end

if jumpAnimActive then
	local jumpAnimations = {}
	for _, animData in ipairs(animations) do
		if animData.category == "è·³è·ƒåŠ¨ç”»åŒ…" then
			table.insert(jumpAnimations, animData)
		end
	end
	if #jumpAnimations > 0 then
		-- æ’­æ”¾ç¬¬ä¸€ä¸ªè·³è·ƒåŠ¨ç”»
		playAnimation(jumpAnimations[1])
	end
end
